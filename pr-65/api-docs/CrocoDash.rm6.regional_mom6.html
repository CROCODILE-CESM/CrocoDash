
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>CrocoDash.rm6.regional_mom6 package &#8212; CrocoDash  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api-docs/CrocoDash.rm6.regional_mom6';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="CrocoDash.rm6 package" href="CrocoDash.rm6.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/crocodile.png" class="logo__image only-light" alt="CrocoDash  documentation - Home"/>
    <script>document.write(`<img src="../_static/crocodile.png" class="logo__image only-dark" alt="CrocoDash  documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/cesm_setup.html">CESM Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/notebook_walkthrough.html">CrocoDash Basic Notebook Walkthrough</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/large_data_workflow.html">Large Data Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/datasets.html">Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/tides.html">Tides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/chl.html">Chlorophyll</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/input_params.html">Input Parameters</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference external" href="https://crocodile-cesm.github.io/CrocoGallery/">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../structure.html">Structure</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../developers/index.html">Developer Information</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../developers/docs.html">Write Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/adding_data_access.html">Adding Data to the Data Access Module</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="modules.html">API Documentation</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="CrocoDash.html">CrocoDash package</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3 has-children"><a class="reference internal" href="CrocoDash.raw_data_access.html">CrocoDash.raw_data_access package</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="CrocoDash.raw_data_access.datasets.html">CrocoDash.raw_data_access.datasets package</a></li>
</ul>
</details></li>
<li class="toctree-l3 current active has-children"><a class="reference internal" href="CrocoDash.rm6.html">CrocoDash.rm6 package</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l4 current active"><a class="current reference internal" href="#">CrocoDash.rm6.regional_mom6 package</a></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/CROCODILE-CESM/CrocoDash/discussions/84">Common Errors</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/api-docs/CrocoDash.rm6.regional_mom6.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>CrocoDash.rm6.regional_mom6 package</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6.MOM_parameter_tools">CrocoDash.rm6.regional_mom6.MOM_parameter_tools module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.MOM_parameter_tools.change_MOM_parameter"><code class="docutils literal notranslate"><span class="pre">change_MOM_parameter()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.MOM_parameter_tools.read_MOM_file_as_dict"><code class="docutils literal notranslate"><span class="pre">read_MOM_file_as_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.MOM_parameter_tools.write_MOM_file"><code class="docutils literal notranslate"><span class="pre">write_MOM_file()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6.config">CrocoDash.rm6.regional_mom6.config module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.config.Config"><code class="docutils literal notranslate"><span class="pre">Config</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.config.Config.load_from_json"><code class="docutils literal notranslate"><span class="pre">Config.load_from_json()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.config.Config.save_to_json"><code class="docutils literal notranslate"><span class="pre">Config.save_to_json()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.config.convert_string_to_value"><code class="docutils literal notranslate"><span class="pre">convert_string_to_value()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.config.convert_value_to_string"><code class="docutils literal notranslate"><span class="pre">convert_value_to_string()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6.regional_mom6">CrocoDash.rm6.regional_mom6.regional_mom6 module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment"><code class="docutils literal notranslate"><span class="pre">experiment</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.bathymetry"><code class="docutils literal notranslate"><span class="pre">experiment.bathymetry</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.bathymetry_path"><code class="docutils literal notranslate"><span class="pre">experiment.bathymetry_path</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.configure_cpu_layout"><code class="docutils literal notranslate"><span class="pre">experiment.configure_cpu_layout()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.create_empty"><code class="docutils literal notranslate"><span class="pre">experiment.create_empty()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.era5_paths"><code class="docutils literal notranslate"><span class="pre">experiment.era5_paths</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.find_MOM6_rectangular_orientation"><code class="docutils literal notranslate"><span class="pre">experiment.find_MOM6_rectangular_orientation()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.get_glorys"><code class="docutils literal notranslate"><span class="pre">experiment.get_glorys()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.init_tracers"><code class="docutils literal notranslate"><span class="pre">experiment.init_tracers</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.init_velocities"><code class="docutils literal notranslate"><span class="pre">experiment.init_velocities</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.initial_condition_paths"><code class="docutils literal notranslate"><span class="pre">experiment.initial_condition_paths</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.ocean_state_boundary_paths"><code class="docutils literal notranslate"><span class="pre">experiment.ocean_state_boundary_paths</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.run_FRE_tools"><code class="docutils literal notranslate"><span class="pre">experiment.run_FRE_tools()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_bathymetry"><code class="docutils literal notranslate"><span class="pre">experiment.setup_bathymetry()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides"><code class="docutils literal notranslate"><span class="pre">experiment.setup_boundary_tides()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_era5"><code class="docutils literal notranslate"><span class="pre">experiment.setup_era5()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_initial_condition"><code class="docutils literal notranslate"><span class="pre">experiment.setup_initial_condition()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_ocean_state_boundaries"><code class="docutils literal notranslate"><span class="pre">experiment.setup_ocean_state_boundaries()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_run_directory"><code class="docutils literal notranslate"><span class="pre">experiment.setup_run_directory()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_single_boundary"><code class="docutils literal notranslate"><span class="pre">experiment.setup_single_boundary()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.tides_boundary_paths"><code class="docutils literal notranslate"><span class="pre">experiment.tides_boundary_paths</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.tidy_bathymetry"><code class="docutils literal notranslate"><span class="pre">experiment.tidy_bathymetry()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.generate_rectangular_hgrid"><code class="docutils literal notranslate"><span class="pre">generate_rectangular_hgrid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.get_glorys_data"><code class="docutils literal notranslate"><span class="pre">get_glorys_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.hyperbolictan_thickness_profile"><code class="docutils literal notranslate"><span class="pre">hyperbolictan_thickness_profile()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.longitude_slicer"><code class="docutils literal notranslate"><span class="pre">longitude_slicer()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment"><code class="docutils literal notranslate"><span class="pre">segment</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.encode_tidal_files_and_output"><code class="docutils literal notranslate"><span class="pre">segment.encode_tidal_files_and_output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_tides"><code class="docutils literal notranslate"><span class="pre">segment.regrid_tides()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_velocity_tracers"><code class="docutils literal notranslate"><span class="pre">segment.regrid_velocity_tracers()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6.regridding">CrocoDash.rm6.regional_mom6.regridding module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.add_or_update_time_dim"><code class="docutils literal notranslate"><span class="pre">add_or_update_time_dim()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.add_secondary_dimension"><code class="docutils literal notranslate"><span class="pre">add_secondary_dimension()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.coords"><code class="docutils literal notranslate"><span class="pre">coords()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.create_regridder"><code class="docutils literal notranslate"><span class="pre">create_regridder()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.fill_missing_data"><code class="docutils literal notranslate"><span class="pre">fill_missing_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.generate_dz"><code class="docutils literal notranslate"><span class="pre">generate_dz()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.generate_encoding"><code class="docutils literal notranslate"><span class="pre">generate_encoding()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.generate_layer_thickness"><code class="docutils literal notranslate"><span class="pre">generate_layer_thickness()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.get_boundary_mask"><code class="docutils literal notranslate"><span class="pre">get_boundary_mask()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.get_hgrid_arakawa_c_points"><code class="docutils literal notranslate"><span class="pre">get_hgrid_arakawa_c_points()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.mask_dataset"><code class="docutils literal notranslate"><span class="pre">mask_dataset()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.vertical_coordinate_encoding"><code class="docutils literal notranslate"><span class="pre">vertical_coordinate_encoding()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6.rotation">CrocoDash.rm6.regional_mom6.rotation module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod"><code class="docutils literal notranslate"><span class="pre">RotationMethod</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod.EXPAND_GRID"><code class="docutils literal notranslate"><span class="pre">RotationMethod.EXPAND_GRID</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod.GIVEN_ANGLE"><code class="docutils literal notranslate"><span class="pre">RotationMethod.GIVEN_ANGLE</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod.NO_ROTATION"><code class="docutils literal notranslate"><span class="pre">RotationMethod.NO_ROTATION</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id0"><code class="docutils literal notranslate"><span class="pre">RotationMethod.EXPAND_GRID</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><code class="docutils literal notranslate"><span class="pre">RotationMethod.GIVEN_ANGLE</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><code class="docutils literal notranslate"><span class="pre">RotationMethod.NO_ROTATION</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.create_expanded_hgrid"><code class="docutils literal notranslate"><span class="pre">create_expanded_hgrid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.get_rotation_angle"><code class="docutils literal notranslate"><span class="pre">get_rotation_angle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.initialize_grid_rotation_angle"><code class="docutils literal notranslate"><span class="pre">initialize_grid_rotation_angle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.initialize_grid_rotation_angles_using_expanded_hgrid"><code class="docutils literal notranslate"><span class="pre">initialize_grid_rotation_angles_using_expanded_hgrid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.modulo_around_point"><code class="docutils literal notranslate"><span class="pre">modulo_around_point()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.mom6_angle_calculation_method"><code class="docutils literal notranslate"><span class="pre">mom6_angle_calculation_method()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6.utils">CrocoDash.rm6.regional_mom6.utils module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.angle_between"><code class="docutils literal notranslate"><span class="pre">angle_between()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.ap2ep"><code class="docutils literal notranslate"><span class="pre">ap2ep()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.ep2ap"><code class="docutils literal notranslate"><span class="pre">ep2ap()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.find_files_by_pattern"><code class="docutils literal notranslate"><span class="pre">find_files_by_pattern()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.get_edge"><code class="docutils literal notranslate"><span class="pre">get_edge()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.is_rectilinear_hgrid"><code class="docutils literal notranslate"><span class="pre">is_rectilinear_hgrid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.latlon_to_cartesian"><code class="docutils literal notranslate"><span class="pre">latlon_to_cartesian()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.quadrilateral_area"><code class="docutils literal notranslate"><span class="pre">quadrilateral_area()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.quadrilateral_areas"><code class="docutils literal notranslate"><span class="pre">quadrilateral_areas()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.rotate"><code class="docutils literal notranslate"><span class="pre">rotate()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.rotate_complex"><code class="docutils literal notranslate"><span class="pre">rotate_complex()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.setup_logger"><code class="docutils literal notranslate"><span class="pre">setup_logger()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.vecdot"><code class="docutils literal notranslate"><span class="pre">vecdot()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6">Module contents</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="crocodash-rm6-regional-mom6-package">
<h1>CrocoDash.rm6.regional_mom6 package<a class="headerlink" href="#crocodash-rm6-regional-mom6-package" title="Link to this heading">#</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">#</a></h2>
</section>
<section id="module-CrocoDash.rm6.regional_mom6.MOM_parameter_tools">
<span id="crocodash-rm6-regional-mom6-mom-parameter-tools-module"></span><h2>CrocoDash.rm6.regional_mom6.MOM_parameter_tools module<a class="headerlink" href="#module-CrocoDash.rm6.regional_mom6.MOM_parameter_tools" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.MOM_parameter_tools.change_MOM_parameter">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.MOM_parameter_tools.</span></span><span class="sig-name descname"><span class="pre">change_MOM_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.MOM_parameter_tools.change_MOM_parameter" title="Link to this definition">#</a></dt>
<dd><p>Changes a parameter in the <code class="docutils literal notranslate"><span class="pre">MOM_input</span></code> or <code class="docutils literal notranslate"><span class="pre">MOM_override</span></code> file. Returns original value, if there was one.
If <cite>delete</cite> keyword argument is <cite>True</cite> the parameter is removed. But note, that <strong>only</strong> parameters from
the <code class="docutils literal notranslate"><span class="pre">MOM_override</span></code> are be deleted, since deleting parameters from <code class="docutils literal notranslate"><span class="pre">MOM_input</span></code> is not safe and can lead to errors.
If the parameter does not exist, it will be added to the MOM_override file.</p>
<p><strong>MOM parameter files need to be present in the run directory</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param_name</strong> (<em>str</em>) – Parameter name to modify</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – Directory where the MOM_input and MOM_override files are located</p></li>
<li><p><strong>param_value</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – New assigned Value</p></li>
<li><p><strong>comment</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Any comment to add</p></li>
<li><p><strong>delete</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – Whether to delete the specified <code class="docutils literal notranslate"><span class="pre">param_name</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.MOM_parameter_tools.read_MOM_file_as_dict">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.MOM_parameter_tools.</span></span><span class="sig-name descname"><span class="pre">read_MOM_file_as_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.MOM_parameter_tools.read_MOM_file_as_dict" title="Link to this definition">#</a></dt>
<dd><p>Read the MOM_input file from directory and return a dictionary of the variables and their values.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.MOM_parameter_tools.write_MOM_file">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.MOM_parameter_tools.</span></span><span class="sig-name descname"><span class="pre">write_MOM_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">MOM_file_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.MOM_parameter_tools.write_MOM_file" title="Link to this definition">#</a></dt>
<dd><p>Write the MOM_input file from a dictionary of variables and their values to directory. Does not support removing fields.</p>
</dd></dl>

</section>
<section id="module-CrocoDash.rm6.regional_mom6.config">
<span id="crocodash-rm6-regional-mom6-config-module"></span><h2>CrocoDash.rm6.regional_mom6.config module<a class="headerlink" href="#module-CrocoDash.rm6.regional_mom6.config" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.config.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.config.</span></span><span class="sig-name descname"><span class="pre">Config</span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.config.Config" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handles saving and loading experiment class configurations, including a function.</p>
<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.config.Config.load_from_json">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_from_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mom_input_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mom_input/from_config'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mom_run_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mom_run/from_config'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_hgrid_and_vgrid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.config.Config.load_from_json" title="Link to this definition">#</a></dt>
<dd><p>Load experiment variables from a configuration file and generate the horizontal and vertical grids (<code class="docutils literal notranslate"><span class="pre">hgrid</span></code>/<code class="docutils literal notranslate"><span class="pre">vgrid</span></code>).</p>
<p>(This is basically another way to initialize an experiment.)</p>
<p>Arguments:
config_file_path (str): Path to the config file.
mom_input_dir (str): Path to the MOM6 input directory. Default: <code class="docutils literal notranslate"><span class="pre">&quot;mom_input/from_config&quot;</span></code>.
mom_run_dir (str): Path to the MOM6 run directory. Default: <code class="docutils literal notranslate"><span class="pre">&quot;mom_run/from_config&quot;</span></code>.
create_hgrid_and_vgrid (bool): Whether to create the hgrid and the vgrid. Default is True.</p>
<p>Returns:
An experiment object with the fields from the configuration at <code class="docutils literal notranslate"><span class="pre">config_file_path</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.config.Config.save_to_json">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">save_to_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.config.Config.save_to_json" title="Link to this definition">#</a></dt>
<dd><p>Write a <code class="docutils literal notranslate"><span class="pre">json</span></code> configuration file for the experiment. The <code class="docutils literal notranslate"><span class="pre">json</span></code> file contains
the experiment variable information to allow for easy pass off to other users, with a strict computer
independence restriction. It also makes information about the expirement readable, and
can be also useful for simply printing out information about the experiment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>rm6.Experiment</em>) – The experiment object to save.</p></li>
<li><p><strong>path</strong> (<em>str</em>) – Path to write the config file to. If not provided, the file is written to the <code class="docutils literal notranslate"><span class="pre">mom_run_dir</span></code> directory.</p></li>
<li><p><strong>export</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code> (default), the configuration file is written to disk on the given <code class="docutils literal notranslate"><span class="pre">path</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing the configuration information.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.config.convert_string_to_value">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.config.</span></span><span class="sig-name descname"><span class="pre">convert_string_to_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.config.convert_string_to_value" title="Link to this definition">#</a></dt>
<dd><p>Helper function to handle deserialization of different types.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.config.convert_value_to_string">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.config.</span></span><span class="sig-name descname"><span class="pre">convert_value_to_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.config.convert_value_to_string" title="Link to this definition">#</a></dt>
<dd><p>Helper function to handle serialization of different types.</p>
</dd></dl>

</section>
<section id="module-CrocoDash.rm6.regional_mom6.regional_mom6">
<span id="crocodash-rm6-regional-mom6-regional-mom6-module"></span><h2>CrocoDash.rm6.regional_mom6.regional_mom6 module<a class="headerlink" href="#module-CrocoDash.rm6.regional_mom6.regional_mom6" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regional_mom6.</span></span><span class="sig-name descname"><span class="pre">experiment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">*,</span> <span class="pre">date_range,</span> <span class="pre">resolution,</span> <span class="pre">number_vertical_layers,</span> <span class="pre">layer_thickness_ratio,</span> <span class="pre">depth,</span> <span class="pre">mom_run_dir,</span> <span class="pre">mom_input_dir,</span> <span class="pre">fre_tools_dir=None,</span> <span class="pre">longitude_extent=None,</span> <span class="pre">latitude_extent=None,</span> <span class="pre">hgrid_type='even_spacing',</span> <span class="pre">hgrid_path=None,</span> <span class="pre">vgrid_type='hyperbolic_tangent',</span> <span class="pre">vgrid_path=None,</span> <span class="pre">repeat_year_forcing=False,</span> <span class="pre">minimum_depth=4,</span> <span class="pre">tidal_constituents=['M2',</span> <span class="pre">'S2',</span> <span class="pre">'N2',</span> <span class="pre">'K2',</span> <span class="pre">'K1',</span> <span class="pre">'O1',</span> <span class="pre">'P1',</span> <span class="pre">'Q1',</span> <span class="pre">'MM',</span> <span class="pre">'MF'],</span> <span class="pre">create_empty=False,</span> <span class="pre">expt_name=None,</span> <span class="pre">boundaries=['south',</span> <span class="pre">'north',</span> <span class="pre">'west',</span> <span class="pre">'east'],</span> <span class="pre">regridding_method='bilinear',</span> <span class="pre">fill_method=&lt;function</span> <span class="pre">fill_missing_data&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The main class for setting up a regional experiment.</p>
<p>Everything about the regional experiment.</p>
<p>Methods in this class generate the various input files needed for a MOM6
experiment forced with open boundary conditions (OBCs). The code is agnostic
to the user’s choice of boundary forcing, bathymetry, and surface forcing;
users need to prescribe what variables are all called via mapping dictionaries
from MOM6 variable/coordinate name to the name in the input dataset.</p>
<p>The class can be used to generate the grids for a new experiment, or to read in
an existing one (see argument description below).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>date_range</strong> (<em>Tuple</em><em>[</em><em>str</em><em>]</em>) – Start and end dates of the boundary forcing window. For
example: <code class="docutils literal notranslate"><span class="pre">(&quot;2003-01-01&quot;,</span> <span class="pre">&quot;2003-01-31&quot;)</span></code>.</p></li>
<li><p><strong>resolution</strong> (<em>float</em>) – Lateral resolution of the domain (in degrees).</p></li>
<li><p><strong>number_vertical_layers</strong> (<em>int</em>) – Number of vertical layers.</p></li>
<li><p><strong>layer_thickness_ratio</strong> (<em>float</em>) – Ratio of largest to smallest layer thickness;
used as input in <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.hyperbolictan_thickness_profile" title="CrocoDash.rm6.regional_mom6.regional_mom6.hyperbolictan_thickness_profile"><code class="xref py py-func docutils literal notranslate"><span class="pre">hyperbolictan_thickness_profile()</span></code></a>.</p></li>
<li><p><strong>depth</strong> (<em>float</em>) – Depth of the domain.</p></li>
<li><p><strong>mom_run_dir</strong> (<em>str</em>) – Path of the MOM6 control directory.</p></li>
<li><p><strong>mom_input_dir</strong> (<em>str</em>) – Path of the MOM6 input directory, to receive the forcing files.</p></li>
<li><p><strong>fre_tools_dir</strong> (<em>str</em>) – Path of GFDL’s FRE tools (<a class="github reference external" href="https://github.com/NOAA-GFDL/FRE-NCtools">NOAA-GFDL/FRE-NCtools</a>)
binaries.</p></li>
<li><p><strong>longitude_extent</strong> (<em>Tuple</em><em>[</em><em>float</em><em>]</em>) – Extent of the region in longitude (in degrees). For
example: <code class="docutils literal notranslate"><span class="pre">(40.5,</span> <span class="pre">50.0)</span></code>.</p></li>
<li><p><strong>latitude_extent</strong> (<em>Tuple</em><em>[</em><em>float</em><em>]</em>) – Extent of the region in latitude (in degrees). For
example: <code class="docutils literal notranslate"><span class="pre">(-20.0,</span> <span class="pre">30.0)</span></code>.</p></li>
<li><p><strong>hgrid_type</strong> (<em>str</em>) – Type of horizontal grid to generate. Currently, only <code class="docutils literal notranslate"><span class="pre">'even_spacing'</span></code> is supported. Setting this argument to <code class="docutils literal notranslate"><span class="pre">'from_file'</span></code> requires the additional hgrid_path argument</p></li>
<li><p><strong>hgrid_path</strong> (<em>str</em>) – Path to the horizontal grid file if the hgrid_type is <code class="docutils literal notranslate"><span class="pre">'from_file'</span></code>.</p></li>
<li><p><strong>vgrid_type</strong> (<em>str</em>) – Type of vertical grid to generate.
Currently, only <code class="docutils literal notranslate"><span class="pre">'hyperbolic_tangent'</span></code> is supported. Setting this argument to <code class="docutils literal notranslate"><span class="pre">'from_file'</span></code> requires the additional vgrid_path argument</p></li>
<li><p><strong>vgrid_path</strong> (<em>str</em>) – Path to the vertical grid file if the vgrid_type is <code class="docutils literal notranslate"><span class="pre">'from_file'</span></code>.</p></li>
<li><p><strong>repeat_year_forcing</strong> (<em>bool</em>) – When <code class="docutils literal notranslate"><span class="pre">True</span></code> the experiment runs with
repeat-year forcing. When <code class="docutils literal notranslate"><span class="pre">False</span></code> (default) then inter-annual forcing is used.</p></li>
<li><p><strong>minimum_depth</strong> (<em>int</em>) – The minimum depth in meters of a grid cell allowed before it is masked out and treated as land.</p></li>
<li><p><strong>tidal_constituents</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of tidal constituents to be used in the experiment. Default is <code class="docutils literal notranslate"><span class="pre">[&quot;M2&quot;,</span> <span class="pre">&quot;S2&quot;,</span> <span class="pre">&quot;N2&quot;,</span> <span class="pre">&quot;K2&quot;,</span> <span class="pre">&quot;K1&quot;,</span> <span class="pre">&quot;O1&quot;,</span> <span class="pre">&quot;P1&quot;,</span> <span class="pre">&quot;Q1&quot;,</span> <span class="pre">&quot;MM&quot;,</span> <span class="pre">&quot;MF&quot;]</span></code>.</p></li>
<li><p><strong>create_empty</strong> (<em>bool</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the experiment object is initialized empty. This is used for testing and experienced user manipulation.</p></li>
<li><p><strong>expt_name</strong> (<em>str</em>) – The name of the experiment (for config file use)</p></li>
<li><p><strong>boundaries</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of (rectangular) boundaries to be set. Default is <code class="docutils literal notranslate"><span class="pre">[&quot;south&quot;,</span> <span class="pre">&quot;north&quot;,</span> <span class="pre">&quot;west&quot;,</span> <span class="pre">&quot;east&quot;]</span></code>. The boundaries are set as (list index + 1) in MOM_override in the order of the list, and less than 4 boundaries can be set.</p></li>
<li><p><strong>regridding_method</strong> (<em>str</em>) – regridding method to use throughout the entire experiment. Default is <code class="docutils literal notranslate"><span class="pre">'bilinear'</span></code>. Any other xesmf regridding method can be used.</p></li>
<li><p><strong>fill_method</strong> (<em>Function</em>) – The fill function to be used after regridding datasets. it takes a xarray DataArray and returns a filled DataArray. Default is <code class="docutils literal notranslate"><span class="pre">rgd.fill_missing_data</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.bathymetry">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bathymetry</span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.bathymetry" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.bathymetry_path">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bathymetry_path</span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.bathymetry_path" title="Link to this definition">#</a></dt>
<dd><p>Finds the bathymetry file from disk, and returns the file path.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.configure_cpu_layout">
<span class="sig-name descname"><span class="pre">configure_cpu_layout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layout</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.configure_cpu_layout" title="Link to this definition">#</a></dt>
<dd><p>Wrapper for the <code class="docutils literal notranslate"><span class="pre">check_mask</span></code> function of GFDL’s FRE Tools. User provides processor
<code class="docutils literal notranslate"><span class="pre">layout</span></code> tuple of processing units.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.create_empty">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_empty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">longitude_extent=None,</span> <span class="pre">latitude_extent=None,</span> <span class="pre">date_range=None,</span> <span class="pre">resolution=None,</span> <span class="pre">number_vertical_layers=None,</span> <span class="pre">layer_thickness_ratio=None,</span> <span class="pre">depth=None,</span> <span class="pre">mom_run_dir=None,</span> <span class="pre">mom_input_dir=None,</span> <span class="pre">fre_tools_dir=None,</span> <span class="pre">hgrid_type='even_spacing',</span> <span class="pre">repeat_year_forcing=False,</span> <span class="pre">minimum_depth=4,</span> <span class="pre">tidal_constituents=['M2',</span> <span class="pre">'S2',</span> <span class="pre">'N2',</span> <span class="pre">'K2',</span> <span class="pre">'K1',</span> <span class="pre">'O1',</span> <span class="pre">'P1',</span> <span class="pre">'Q1',</span> <span class="pre">'MM',</span> <span class="pre">'MF'],</span> <span class="pre">expt_name=None,</span> <span class="pre">boundaries=['south',</span> <span class="pre">'north',</span> <span class="pre">'west',</span> <span class="pre">'east'],</span> <span class="pre">regridding_method='bilinear',</span> <span class="pre">fill_method=&lt;function</span> <span class="pre">fill_missing_data&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.create_empty" title="Link to this definition">#</a></dt>
<dd><p><strong>Note</strong>: This method is unsafe; <em>only</em> experience users are urged to use it!</p>
<p>Alternative to the initialisation method to create an empty expirement object, with the opportunity to override
whatever values wanted.</p>
<p>This method allows developers and experienced users to set specific variables for specific function requirements,
like just regridding the initial condition or subsetting bathymetry, instead of having to set so many other variables
that aren’t needed.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.era5_paths">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">era5_paths</span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.era5_paths" title="Link to this definition">#</a></dt>
<dd><p>Finds the ERA5 files from disk, and prints the file paths</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.find_MOM6_rectangular_orientation">
<span class="sig-name descname"><span class="pre">find_MOM6_rectangular_orientation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.find_MOM6_rectangular_orientation" title="Link to this definition">#</a></dt>
<dd><p>Convert between MOM6 boundary and the specific segment number needed, or the inverse.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.get_glorys">
<span class="sig-name descname"><span class="pre">get_glorys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_boundaries_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.get_glorys" title="Link to this definition">#</a></dt>
<dd><p>This is a wrapper that calls <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.get_glorys_data" title="CrocoDash.rm6.regional_mom6.regional_mom6.get_glorys_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_glorys_data()</span></code></a> once for each of the rectangular boundary segments
and the initial condition. For more complex boundary shapes, call <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.get_glorys_data" title="CrocoDash.rm6.regional_mom6.regional_mom6.get_glorys_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_glorys_data()</span></code></a> directly for
each of your boundaries that aren’t parallel to lines of constant latitude or longitude. For example,
for an angled Northern boundary that spans multiple latitudes, we need to download a wider rectangle
containing the entire boundary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_boundaries_path</strong> (<em>str</em>) – Path to the directory containing the raw boundary forcing files.</p></li>
<li><p><strong>boundaries</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of cardinal directions for which to create boundary forcing files.
Default is <code class="docutils literal notranslate"><span class="pre">[&quot;south&quot;,</span> <span class="pre">&quot;north&quot;,</span> <span class="pre">&quot;west&quot;,</span> <span class="pre">&quot;east&quot;]</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.init_tracers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">init_tracers</span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.init_tracers" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.init_velocities">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">init_velocities</span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.init_velocities" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.initial_condition_paths">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">initial_condition_paths</span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.initial_condition_paths" title="Link to this definition">#</a></dt>
<dd><p>Finds the initial condition files from disk, and prints the file paths</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.ocean_state_boundary_paths">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ocean_state_boundary_paths</span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.ocean_state_boundary_paths" title="Link to this definition">#</a></dt>
<dd><p>Finds the ocean state files from disk, and prints the file paths</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.run_FRE_tools">
<span class="sig-name descname"><span class="pre">run_FRE_tools</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.run_FRE_tools" title="Link to this definition">#</a></dt>
<dd><p>A wrapper for FRE Tools <code class="docutils literal notranslate"><span class="pre">check_mask</span></code>, <code class="docutils literal notranslate"><span class="pre">make_solo_mosaic</span></code>, and <code class="docutils literal notranslate"><span class="pre">make_quick_mosaic</span></code>.
User provides processor <code class="docutils literal notranslate"><span class="pre">layout</span></code> tuple of processing units.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_bathymetry">
<span class="sig-name descname"><span class="pre">setup_bathymetry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bathymetry_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">longitude_coordinate_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lon'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latitude_coordinate_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical_coordinate_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'elevation'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positive_down</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_to_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regridding_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_bathymetry" title="Link to this definition">#</a></dt>
<dd><p>Cut out and interpolate the chosen bathymetry and then fill inland lakes.</p>
<p>Users can optionally fill narrow channels (see <code class="docutils literal notranslate"><span class="pre">fill_channels</span></code> keyword argument
below). Note, however, that narrow channels are less of an issue for models that
are discretized on an Arakawa C grid, like MOM6.</p>
<p>Output is saved in the input directory of the experiment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bathymetry_path</strong> (<em>str</em>) – Path to the netCDF file with the bathymetry.</p></li>
<li><p><strong>longitude_coordinate_name</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – The name of the longitude coordinate in the bathymetry
dataset at <code class="docutils literal notranslate"><span class="pre">bathymetry_path</span></code>. For example, for GEBCO bathymetry: <code class="docutils literal notranslate"><span class="pre">'lon'</span></code> (default).</p></li>
<li><p><strong>latitude_coordinate_name</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – The name of the latitude coordinate in the bathymetry
dataset at <code class="docutils literal notranslate"><span class="pre">bathymetry_path</span></code>. For example, for GEBCO bathymetry: <code class="docutils literal notranslate"><span class="pre">'lat'</span></code> (default).</p></li>
<li><p><strong>vertical_coordinate_name</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – The name of the vertical coordinate in the bathymetry
dataset at <code class="docutils literal notranslate"><span class="pre">bathymetry_path</span></code>. For example, for GEBCO bathymetry: <code class="docutils literal notranslate"><span class="pre">'elevation'</span></code> (default).</p></li>
<li><p><strong>fill_channels</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – Whether or not to fill in
diagonal channels. This removes more narrow inlets,
but can also connect extra islands to land. Default: <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>positive_down</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, it assumes that the
bathymetry vertical coordinate is positive downwards. Default: <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>write_to_file</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – Whether to write the bathymetry to a file. Default: <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>regridding_method</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – The type of regridding method to use. Defaults to self.regridding_method</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides">
<span class="sig-name descname"><span class="pre">setup_boundary_tides</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tpxo_elevation_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpxo_velocity_filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tidal_constituents</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bathymetry_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotational_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">RotationMethod.EXPAND_GRID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regridding_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides" title="Link to this definition">#</a></dt>
<dd><p>Subset the tidal data and generate more boundary files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_to_td</strong> (<em>str</em>) – Path to boundary tidal file.</p></li>
<li><p><strong>tpxo_elevation_filepath</strong> – Filepath to the TPXO elevation product. Generally of the form <code class="docutils literal notranslate"><span class="pre">h_tidalversion.nc</span></code></p></li>
<li><p><strong>tpxo_velocity_filepath</strong> – Filepath to the TPXO velocity product. Generally of the form <code class="docutils literal notranslate"><span class="pre">u_tidalversion.nc</span></code></p></li>
<li><p><strong>tidal_constituents</strong> – List of tidal constituents to include in the regridding. Default is set in the experiment constructor (See <code class="xref py py-class docutils literal notranslate"><span class="pre">Experiment</span></code>)</p></li>
<li><p><strong>bathymetry_path</strong> (<em>str</em>) – Path to the bathymetry file. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, in which case the boundary condition is not masked</p></li>
<li><p><strong>rotational_method</strong> (<em>str</em>) – Method to use for rotating the tidal velocities. Default is ‘EXPAND_GRID’.</p></li>
<li><p><strong>regridding_method</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – The type of regridding method to use. Defaults to self.regridding_method</p></li>
<li><p><strong>fill_method</strong> (<em>Function</em>) – Fill method to use throughout the function. Default is <code class="docutils literal notranslate"><span class="pre">self.fill_method</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Regridded tidal velocity and elevation files in ‘inputdir/forcing’</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>netCDF files</p>
</dd>
</dl>
<p>The tidal data functions are sourced from the GFDL NWA25 and modified so that:</p>
<ul class="simple">
<li><p>Converted code for regional-mom6 <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment" title="CrocoDash.rm6.regional_mom6.regional_mom6.segment"><code class="xref py py-func docutils literal notranslate"><span class="pre">segment()</span></code></a> class</p></li>
<li><p>Implemented horizontal subsetting.</p></li>
<li><p>Combined all functions of NWA25 into a four function process (in the style of regional-mom6), i.e.,
<a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides" title="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides"><code class="xref py py-func docutils literal notranslate"><span class="pre">setup_boundary_tides()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">coords()</span></code>, <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_tides" title="CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_tides"><code class="xref py py-func docutils literal notranslate"><span class="pre">segment.regrid_tides()</span></code></a>, and
<a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.encode_tidal_files_and_output" title="CrocoDash.rm6.regional_mom6.regional_mom6.segment.encode_tidal_files_and_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">segment.encode_tidal_files_and_output()</span></code></a>.</p></li>
</ul>
<p>Code credit:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Author</span><span class="p">(</span><span class="n">s</span><span class="p">):</span> <span class="n">GFDL</span><span class="p">,</span> <span class="n">James</span> <span class="n">Simkins</span><span class="p">,</span> <span class="n">Rob</span> <span class="n">Cermak</span><span class="p">,</span> <span class="ow">and</span> <span class="n">contributors</span>
<span class="n">Year</span><span class="p">:</span> <span class="mi">2022</span>
<span class="n">Title</span><span class="p">:</span> <span class="s2">&quot;NWA25: Northwest Atlantic 1/25th Degree MOM6 Simulation&quot;</span>
<span class="n">Version</span><span class="p">:</span> <span class="n">N</span><span class="o">/</span><span class="n">A</span>
<span class="n">Type</span><span class="p">:</span> <span class="n">Python</span> <span class="n">Functions</span><span class="p">,</span> <span class="n">Source</span> <span class="n">Code</span>
<span class="n">Web</span> <span class="n">Address</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">jsimkins2</span><span class="o">/</span><span class="n">nwa25</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_era5">
<span class="sig-name descname"><span class="pre">setup_era5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">era5_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_era5" title="Link to this definition">#</a></dt>
<dd><p>Setup the ERA5 forcing files for the experiment. This assumes that
all of the ERA5 data in the prescribed date range are downloaded.
We need the following fields: “2t”, “10u”, “10v”, “sp”, “2d”, “msdwswrf”,
“msdwlwrf”, “lsrr”, and “crr”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>era5_path</strong> (<em>str</em>) – Path to the ERA5 forcing files. Specifically, the single-level
reanalysis product. For example, <code class="docutils literal notranslate"><span class="pre">'SOMEPATH/era5/single-levels/reanalysis'</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_initial_condition">
<span class="sig-name descname"><span class="pre">setup_initial_condition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_ic_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arakawa_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'A'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vcoord_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'height'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotational_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">RotationMethod.EXPAND_GRID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regridding_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_initial_condition" title="Link to this definition">#</a></dt>
<dd><p>Reads the initial condition from files in <code class="docutils literal notranslate"><span class="pre">raw_ic_path</span></code>, interpolates to the
model grid, fixes up metadata, and saves back to the input directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_ic_path</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>, </em><em>list</em><em>[</em><em>str</em><em>]</em><em>]</em>) – Path(s) to raw initial condition file(s) to read in.</p></li>
<li><p><strong>varnames</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – Mapping from MOM6 variable/coordinate names to the names
in the input dataset. For example, <code class="docutils literal notranslate"><span class="pre">{'xq':</span> <span class="pre">'lonq',</span> <span class="pre">'yh':</span> <span class="pre">'lath',</span> <span class="pre">'salt':</span> <span class="pre">'so',</span> <span class="pre">...}</span></code>.</p></li>
<li><p><strong>arakawa_grid</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Arakawa grid staggering type of the initial condition.
Either <code class="docutils literal notranslate"><span class="pre">'A'</span></code> (default), <code class="docutils literal notranslate"><span class="pre">'B'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'C'</span></code>.</p></li>
<li><p><strong>vcoord_type</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – The type of vertical coordinate used in the forcing files.
Either <code class="docutils literal notranslate"><span class="pre">'height'</span></code> or <code class="docutils literal notranslate"><span class="pre">'thickness'</span></code>.</p></li>
<li><p><strong>rotational_method</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod" title="CrocoDash.rm6.regional_mom6.rotation.RotationMethod"><em>RotationMethod</em></a><em>]</em>) – The method used to rotate the velocities.</p></li>
<li><p><strong>regridding_method</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – The type of regridding method to use. Defaults to self.regridding_method</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_ocean_state_boundaries">
<span class="sig-name descname"><span class="pre">setup_ocean_state_boundaries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_boundaries_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arakawa_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'A'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bathymetry_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotational_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">RotationMethod.EXPAND_GRID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regridding_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_ocean_state_boundaries" title="Link to this definition">#</a></dt>
<dd><p>A wrapper for <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_single_boundary" title="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_single_boundary"><code class="xref py py-func docutils literal notranslate"><span class="pre">setup_single_boundary()</span></code></a>. Given a list of up to four cardinal directions,
it creates a boundary forcing file for each one. Ensure that the raw boundaries are all saved
in the same directory, and that they are named using the format <code class="docutils literal notranslate"><span class="pre">east_unprocessed.nc</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raw_boundaries_path</strong> (<em>str</em>) – Path to the directory containing the raw boundary forcing files.</p></li>
<li><p><strong>varnames</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – Mapping from MOM6 variable/coordinate names to the name in the
input dataset.</p></li>
<li><p><strong>boundaries</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of cardinal directions for which to create boundary forcing files.
Default is <code class="docutils literal notranslate"><span class="pre">[&quot;south&quot;,</span> <span class="pre">&quot;north&quot;,</span> <span class="pre">&quot;west&quot;,</span> <span class="pre">&quot;east&quot;]</span></code>.</p></li>
<li><p><strong>arakawa_grid</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Arakawa grid staggering type of the boundary forcing.
Either <code class="docutils literal notranslate"><span class="pre">'A'</span></code> (default), <code class="docutils literal notranslate"><span class="pre">'B'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'C'</span></code>.</p></li>
<li><p><strong>bathymetry_path</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Path to the bathymetry file. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, in which case the
boundary condition is not masked.</p></li>
<li><p><strong>rotational_method</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Method to use for rotating the boundary velocities.
Default is <code class="docutils literal notranslate"><span class="pre">EXPAND_GRID</span></code>.</p></li>
<li><p><strong>regridding_method</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – The type of regridding method to use. Defaults to self.regridding_method</p></li>
<li><p><strong>fill_method</strong> (<em>Function</em>) – Fill method to use throughout the function. Default is <code class="docutils literal notranslate"><span class="pre">self.fill_method</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_run_directory">
<span class="sig-name descname"><span class="pre">setup_run_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">surface_forcing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">using_payu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_tides</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_run_directory" title="Link to this definition">#</a></dt>
<dd><p>Set up the run directory for MOM6. Either copy a pre-made set of files, or modify
existing files in the ‘rundir’ directory for the experiment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surface_forcing</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Specify the choice of surface forcing, one
of: <code class="docutils literal notranslate"><span class="pre">'jra'</span></code> or <code class="docutils literal notranslate"><span class="pre">'era5'</span></code>. If not prescribed then constant fluxes are used.</p></li>
<li><p><strong>using_payu</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – Whether or not to use payu (<a class="github reference external" href="https://github.com/payu-org/payu">payu-org/payu</a>)
to run the model. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, a payu configuration file will be created.
Default: <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>overwrite</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – Whether or not to overwrite existing files in the
run directory. If <code class="docutils literal notranslate"><span class="pre">False</span></code> (default), will only modify the <code class="docutils literal notranslate"><span class="pre">MOM_layout</span></code> file and will
not re-copy across the rest of the default files.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_single_boundary">
<span class="sig-name descname"><span class="pre">setup_single_boundary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_to_bc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arakawa_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'A'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bathymetry_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotational_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">RotationMethod.EXPAND_GRID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regridding_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_single_boundary" title="Link to this definition">#</a></dt>
<dd><p>Set up a boundary forcing file for a given <code class="docutils literal notranslate"><span class="pre">orientation</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_to_bc</strong> (<em>str</em>) – Path to boundary forcing file. Ideally this should be a pre cut-out
netCDF file containing only the boundary region and 3 extra boundary points on either
side. Users can also provide a large dataset containing their entire domain but this
will be slower.</p></li>
<li><p><strong>varnames</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – Mapping from MOM6 variable/coordinate names to the name in the
input dataset.</p></li>
<li><p><strong>orientation</strong> (<em>str</em>) – Orientation of boundary forcing file, i.e., <code class="docutils literal notranslate"><span class="pre">'east'</span></code>, <code class="docutils literal notranslate"><span class="pre">'west'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'north'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'south'</span></code>.</p></li>
<li><p><strong>segment_number</strong> (<em>int</em>) – Number the segments according to how they’ll be specified in
the <code class="docutils literal notranslate"><span class="pre">MOM_input</span></code>.</p></li>
<li><p><strong>arakawa_grid</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Arakawa grid staggering type of the boundary forcing.
Either <code class="docutils literal notranslate"><span class="pre">'A'</span></code> (default), <code class="docutils literal notranslate"><span class="pre">'B'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'C'</span></code>.</p></li>
<li><p><strong>bathymetry_path</strong> (<em>str</em>) – Path to the bathymetry file. Default is <code class="docutils literal notranslate"><span class="pre">None</span></code>, in which case
the boundary condition is not masked.</p></li>
<li><p><strong>rotational_method</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Method to use for rotating the boundary velocities.
Default is ‘EXPAND_GRID’.</p></li>
<li><p><strong>regridding_method</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – The type of regridding method to use. Defaults to self.regridding_method</p></li>
<li><p><strong>fill_method</strong> (<em>Function</em>) – Fill method to use throughout the function. Default is <code class="docutils literal notranslate"><span class="pre">rgd.fill_missing_data</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.tides_boundary_paths">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tides_boundary_paths</span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.tides_boundary_paths" title="Link to this definition">#</a></dt>
<dd><p>Finds the tides files from disk, and prints the file paths</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.tidy_bathymetry">
<span class="sig-name descname"><span class="pre">tidy_bathymetry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fill_channels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">positive_down</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical_coordinate_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'depth'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bathymetry</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write_to_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">longitude_coordinate_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lon'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latitude_coordinate_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lat'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.tidy_bathymetry" title="Link to this definition">#</a></dt>
<dd><p>An auxiliary method for bathymetry used to fix up the metadata and remove inland
lakes after regridding the bathymetry. Having <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.tidy_bathymetry" title="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.tidy_bathymetry"><code class="xref py py-func docutils literal notranslate"><span class="pre">tidy_bathymetry()</span></code></a> as a separate
method from <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_bathymetry" title="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_bathymetry"><code class="xref py py-func docutils literal notranslate"><span class="pre">setup_bathymetry()</span></code></a> allows for the regridding to be done separately,
since regridding can be really expensive for large domains.</p>
<p>If the bathymetry is already regridded and what is left to be done is fixing the metadata
or fill in some channels, then <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.tidy_bathymetry" title="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.tidy_bathymetry"><code class="xref py py-func docutils literal notranslate"><span class="pre">tidy_bathymetry()</span></code></a> directly can read the existing
<code class="docutils literal notranslate"><span class="pre">bathymetry_unfinished.nc</span></code> file that should be in the input directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fill_channels</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – Whether to fill in diagonal channels.
This removes more narrow inlets, but can also connect extra islands to land.
Default: <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>positive_down</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – If <code class="docutils literal notranslate"><span class="pre">False</span></code> (default), assume that
bathymetry vertical coordinate is positive down, as is the case in GEBCO for example.</p></li>
<li><p><strong>bathymetry</strong> (<em>Optional</em><em>[</em><em>xr.Dataset</em><em>]</em>) – The bathymetry dataset to tidy up. If not provided,
it will read the bathymetry from the file <code class="docutils literal notranslate"><span class="pre">bathymetry_unfinished.nc</span></code> in the input directory
that was created by <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_bathymetry" title="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_bathymetry"><code class="xref py py-func docutils literal notranslate"><span class="pre">setup_bathymetry()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.generate_rectangular_hgrid">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regional_mom6.</span></span><span class="sig-name descname"><span class="pre">generate_rectangular_hgrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lons</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lats</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.generate_rectangular_hgrid" title="Link to this definition">#</a></dt>
<dd><p>Construct a horizontal grid with all the metadata required by MOM6, based on
arrays of longitudes (<code class="docutils literal notranslate"><span class="pre">lons</span></code>) and latitudes (<code class="docutils literal notranslate"><span class="pre">lats</span></code>) on the supergrid.
Here, ‘supergrid’ refers to both cell edges and centres, meaning that there
are twice as many points along each axis than for any individual field.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>It is assumed the grid’s boundaries are lines of constant latitude and
longitude. Rotated grids need to be handled differently.</p>
<p>It is also assumed here that the longitude array values are uniformly spaced.</p>
<p>Ensure both <code class="docutils literal notranslate"><span class="pre">lons</span></code> and <code class="docutils literal notranslate"><span class="pre">lats</span></code> are monotonically increasing.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lons</strong> (<em>numpy.array</em>) – All longitude points on the supergrid. Must be uniformly spaced.</p></li>
<li><p><strong>lats</strong> (<em>numpy.array</em>) – All latitude points on the supergrid.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An FMS-compatible horizontal grid (<code class="docutils literal notranslate"><span class="pre">hgrid</span></code>) that includes all required attributes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.get_glorys_data">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regional_mom6.</span></span><span class="sig-name descname"><span class="pre">get_glorys_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">longitude_extent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latitude_extent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timerange</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modify_existing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.get_glorys_data" title="Link to this definition">#</a></dt>
<dd><p>Generates a bash script to download all of the required ocean forcing data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>longitude_extent</strong> (<em>tuple</em><em> of </em><em>floats</em>) – Westward and Eastward extents of the segment</p></li>
<li><p><strong>latitude_extent</strong> (<em>tuple</em><em> of </em><em>floats</em>) – Southward and Northward extents of the segment</p></li>
<li><p><strong>timerange</strong> (<em>tuple</em><em> of </em><em>datetime strings</em>) – Start and end of the segment, each in format %Y-%m-%d %H:%M:%S</p></li>
<li><p><strong>segment_range</strong> (<em>str</em>) – name of the segment (without the <code class="docutils literal notranslate"><span class="pre">.nc</span></code> extension, e.g., <code class="docutils literal notranslate"><span class="pre">east_unprocessed</span></code>)</p></li>
<li><p><strong>download_path</strong> (<em>str</em>) – Location of where the script is saved</p></li>
<li><p><strong>modify_existing</strong> (<em>bool</em>) – Whether to add to an existing script or start a new one</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>file path</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.hyperbolictan_thickness_profile">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regional_mom6.</span></span><span class="sig-name descname"><span class="pre">hyperbolictan_thickness_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nlayers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_depth</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.hyperbolictan_thickness_profile" title="Link to this definition">#</a></dt>
<dd><p>Generate a hyperbolic tangent thickness profile with <code class="docutils literal notranslate"><span class="pre">nlayers</span></code> vertical
layers and total depth of <code class="docutils literal notranslate"><span class="pre">total_depth</span></code> whose bottom layer is (about) <code class="docutils literal notranslate"><span class="pre">ratio</span></code>
times larger than the top layer.</p>
<p>The thickness profile transitions from the top-layer thickness to
the bottom-layer thickness via a hyperbolic tangent proportional to
<code class="docutils literal notranslate"><span class="pre">tanh(2π</span> <span class="pre">*</span> <span class="pre">(k</span> <span class="pre">/</span> <span class="pre">(nlayers</span> <span class="pre">-</span> <span class="pre">1)</span> <span class="pre">-</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">2))</span></code>, where <code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">=</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">...,</span> <span class="pre">nlayers</span> <span class="pre">-</span> <span class="pre">1</span></code>
is the layer index with <code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">=</span> <span class="pre">0</span></code> corresponding to the top-most layer.</p>
<p>The sum of all layer thicknesses is <code class="docutils literal notranslate"><span class="pre">total_depth</span></code>.</p>
<p>Positive parameter <code class="docutils literal notranslate"><span class="pre">ratio</span></code> prescribes (approximately) the ratio of the thickness
of the bottom-most layer to the top-most layer. The final ratio of the bottom-most
layer to the top-most layer ends up a bit different from the prescribed <code class="docutils literal notranslate"><span class="pre">ratio</span></code>.
In particular, the final ratio of the bottom over the top-most layer thickness is
<code class="docutils literal notranslate"><span class="pre">(1</span> <span class="pre">+</span> <span class="pre">ratio</span> <span class="pre">*</span> <span class="pre">exp(2π))</span> <span class="pre">/</span> <span class="pre">(ratio</span> <span class="pre">+</span> <span class="pre">exp(2π))</span></code>. This slight departure comes about
because of the value of the hyperbolic tangent profile at the end-points <code class="docutils literal notranslate"><span class="pre">tanh(π)</span></code>,
which is approximately 0.9963 and not 1. Note that because <code class="docutils literal notranslate"><span class="pre">exp(2π)</span></code> is much greater
than 1, the value of the actual ratio is not that different from the prescribed value
<code class="docutils literal notranslate"><span class="pre">ratio</span></code>, e.g., for <code class="docutils literal notranslate"><span class="pre">ratio</span></code> values between 1/100 and 100 the final ratio of the
bottom-most layer to the top-most layer only departs from the prescribed <code class="docutils literal notranslate"><span class="pre">ratio</span></code>
by ±20%.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nlayers</strong> (<em>int</em>) – Number of vertical layers.</p></li>
<li><p><strong>ratio</strong> (<em>float</em>) – The desired value of the ratio of bottom-most to
the top-most layer thickness. Note that the final value of
the ratio of bottom-most to the top-most layer thickness
ends up <code class="docutils literal notranslate"><span class="pre">(1</span> <span class="pre">+</span> <span class="pre">ratio</span> <span class="pre">*</span> <span class="pre">exp(2π))</span> <span class="pre">/</span> <span class="pre">(ratio</span> <span class="pre">+</span> <span class="pre">exp(2π))</span></code>. Must
be positive.</p></li>
<li><p><strong>total_depth</strong> (<em>float</em>) – The total depth of grid, i.e., the sum
of all thicknesses.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An array containing the layer thicknesses.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The spacings for a vertical grid with 20 layers, with maximum depth 1000 meters,
and for which the top-most layer is about 4 times thinner than the bottom-most
one.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">regional_mom6</span><span class="w"> </span><span class="kn">import</span> <span class="n">hyperbolictan_thickness_profile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nlayers</span><span class="p">,</span> <span class="n">total_depth</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ratio</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dz</span> <span class="o">=</span> <span class="n">hyperbolictan_thickness_profile</span><span class="p">(</span><span class="n">nlayers</span><span class="p">,</span> <span class="n">ratio</span><span class="p">,</span> <span class="n">total_depth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dz</span>
<span class="go">array([20.11183771, 20.2163053 , 20.41767549, 20.80399084, 21.53839043,</span>
<span class="go">       22.91063751, 25.3939941 , 29.6384327 , 36.23006369, 45.08430684,</span>
<span class="go">       54.91569316, 63.76993631, 70.3615673 , 74.6060059 , 77.08936249,</span>
<span class="go">       78.46160957, 79.19600916, 79.58232451, 79.7836947 , 79.88816229])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dz</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="go">1000.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dz</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">dz</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">3.9721960481753706</span>
</pre></div>
</div>
<p>If we want the top layer to be thicker then we need to prescribe <code class="docutils literal notranslate"><span class="pre">ratio</span> <span class="pre">&lt;</span> <span class="pre">1</span></code>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">regional_mom6</span><span class="w"> </span><span class="kn">import</span> <span class="n">hyperbolictan_thickness_profile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nlayers</span><span class="p">,</span> <span class="n">total_depth</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ratio</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dz</span> <span class="o">=</span> <span class="n">hyperbolictan_thickness_profile</span><span class="p">(</span><span class="n">nlayers</span><span class="p">,</span> <span class="n">ratio</span><span class="p">,</span> <span class="n">total_depth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dz</span>
<span class="go">array([79.88816229, 79.7836947 , 79.58232451, 79.19600916, 78.46160957,</span>
<span class="go">       77.08936249, 74.6060059 , 70.3615673 , 63.76993631, 54.91569316,</span>
<span class="go">       45.08430684, 36.23006369, 29.6384327 , 25.3939941 , 22.91063751,</span>
<span class="go">       21.53839043, 20.80399084, 20.41767549, 20.2163053 , 20.11183771])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dz</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="go">1000.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dz</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">dz</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">0.25174991059652</span>
</pre></div>
</div>
<p>Now how about a grid with the same total depth as above but with equally-spaced
layers.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">regional_mom6</span><span class="w"> </span><span class="kn">import</span> <span class="n">hyperbolictan_thickness_profile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nlayers</span><span class="p">,</span> <span class="n">total_depth</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ratio</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dz</span> <span class="o">=</span> <span class="n">hyperbolictan_thickness_profile</span><span class="p">(</span><span class="n">nlayers</span><span class="p">,</span> <span class="n">ratio</span><span class="p">,</span> <span class="n">total_depth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dz</span>
<span class="go">array([50., 50., 50., 50., 50., 50., 50., 50., 50., 50., 50., 50., 50.,</span>
<span class="go">       50., 50., 50., 50., 50., 50., 50.])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.longitude_slicer">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regional_mom6.</span></span><span class="sig-name descname"><span class="pre">longitude_slicer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">longitude_extent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">longitude_coords</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.longitude_slicer" title="Link to this definition">#</a></dt>
<dd><p>Slices longitudes while handling periodicity and the ‘seams’, that is the
longitude values where the data wraps around in a global domain (for example,
longitudes are defined, usually, within domain [0, 360] or [-180, 180]).</p>
<p>The algorithm works in five steps:</p>
<ul class="simple">
<li><p>Determine whether we need to add or subtract 360 to get the middle of the
<code class="docutils literal notranslate"><span class="pre">longitude_extent</span></code> to lie within <code class="docutils literal notranslate"><span class="pre">data</span></code>’s longitude range (hereby <code class="docutils literal notranslate"><span class="pre">old_lon</span></code>).</p></li>
<li><p>Shift the dataset so that its midpoint matches the midpoint of
<code class="docutils literal notranslate"><span class="pre">longitude_extent</span></code> (up to a multiple of 360). Now, the modified <code class="docutils literal notranslate"><span class="pre">old_lon</span></code>
does not increase monotonically from West to East since the ‘seam’
has moved.</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">old_lon</span></code> to make it monotonically increasing again. This uses
the information we have about the way the dataset was shifted/rolled.</p></li>
<li><p>Slice the <code class="docutils literal notranslate"><span class="pre">data</span></code> index-wise. We know that <code class="docutils literal notranslate"><span class="pre">|longitude_extent[1]</span> <span class="pre">-</span> <span class="pre">longitude_extent[0]|</span> <span class="pre">/</span> <span class="pre">360</span></code>
multiplied by the number of discrete longitude points in the global input data gives
the number of longitude points in our slice, and we’ve already set the midpoint
to be the middle of the target domain.</p></li>
<li><p>Add back the correct multiple of 360 so the whole domain matches the target.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>xarray.Dataset</em>) – The global data you want to slice in longitude.</p></li>
<li><p><strong>longitude_extent</strong> (<em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>]</em>) – The target longitudes (in degrees)
we want to slice to. Must be in increasing order.</p></li>
<li><p><strong>longitude_coords</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>list</em><em>[</em><em>str</em><em>]</em>) – The name or list of names of the
longitude coordinates(s) in <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The sliced <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xarray.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.segment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regional_mom6.</span></span><span class="sig-name descname"><span class="pre">segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hgrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfolder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startdate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bathymetry_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arakawa_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'A'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'days'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repeat_year_forcing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to turn raw boundary and tidal segment data into MOM6 boundary
and tidal segments.</p>
<p>Boundary segments should only contain the necessary data for that
segment. No horizontal chunking is done here, so big fat segments
will process slowly.</p>
<p>Data should be at daily temporal resolution, iterating upwards
from the provided startdate. Function ignores the time metadata
and puts it on Julian calendar.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only supports z-star (z*) vertical coordinate.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hgrid</strong> (<em>xarray.Dataset</em>) – The horizontal grid used for domain.</p></li>
<li><p><strong>infile</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em>) – Path to the raw, unprocessed boundary segment.</p></li>
<li><p><strong>outfolder</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>Path</em><em>]</em>) – Path to folder where the model inputs will
be stored.</p></li>
<li><p><strong>varnames</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em>) – Mapping between the variable/dimension names and
standard naming convention of this pipeline, e.g., <code class="docutils literal notranslate"><span class="pre">{&quot;xq&quot;:</span> <span class="pre">&quot;longitude,</span>
<span class="pre">&quot;yh&quot;:</span> <span class="pre">&quot;latitude&quot;,</span> <span class="pre">&quot;salt&quot;:</span> <span class="pre">&quot;salinity&quot;,</span> <span class="pre">...}</span></code>. Key “tracers” points to nested
dictionary of tracers to include in boundary.</p></li>
<li><p><strong>segment_name</strong> (<em>str</em>) – Name of the segment, e.g., <code class="docutils literal notranslate"><span class="pre">'segment_001'</span></code>.</p></li>
<li><p><strong>orientation</strong> (<em>str</em>) – Cardinal direction (lowercase) of the boundary segment,
i.e., <code class="docutils literal notranslate"><span class="pre">'east'</span></code>, <code class="docutils literal notranslate"><span class="pre">'west'</span></code>, <code class="docutils literal notranslate"><span class="pre">'north'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'south'</span></code>.</p></li>
<li><p><strong>startdate</strong> (<em>str</em>) – The starting date to use in the segment calendar.</p></li>
<li><p><strong>arakawa_grid</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Arakawa grid staggering type of the boundary forcing.
Either <code class="docutils literal notranslate"><span class="pre">'A'</span></code> (default), <code class="docutils literal notranslate"><span class="pre">'B'</span></code>, or <code class="docutils literal notranslate"><span class="pre">'C'</span></code>.</p></li>
<li><p><strong>time_units</strong> (<em>str</em>) – The units used by the raw forcing files, e.g., <code class="docutils literal notranslate"><span class="pre">hours</span></code>,
<code class="docutils literal notranslate"><span class="pre">days</span></code> (default).</p></li>
<li><p><strong>repeat_year_forcing</strong> (<em>Optional</em><em>[</em><em>bool</em><em>]</em>) – When <code class="docutils literal notranslate"><span class="pre">True</span></code> the experiment runs with repeat-year
forcing. When <code class="docutils literal notranslate"><span class="pre">False</span></code> (default) then inter-annual forcing is used.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.segment.encode_tidal_files_and_output">
<span class="sig-name descname"><span class="pre">encode_tidal_files_and_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.encode_tidal_files_and_output" title="Link to this definition">#</a></dt>
<dd><p>This method:</p>
<ul class="simple">
<li><p>Expands the dimensions (with the segment name)</p></li>
<li><p>Renames some dimensions to be more specific to the segment</p></li>
<li><p>Provides an output file encoding</p></li>
<li><p>Exports the files.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>self.outfolder</strong> (<em>str/path</em>) – The output folder to save the tidal files into</p></li>
<li><p><strong>dataset</strong> (<em>xarray.Dataset</em>) – The processed tidal dataset</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The output file name</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Regridded [FILENAME] files in ‘self.outfolder/[filename]_[segmentname].nc’</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>netCDF files</p>
</dd>
</dl>
<dl class="simple">
<dt>General Description:</dt><dd><p>This tidal data functions are sourced from the GFDL NWA25 and changed in the following ways:</p>
<ul class="simple">
<li><p>Converted code for regional-mom6 segment class</p></li>
<li><p>Implemented horizontal Subsetting</p></li>
<li><p>Combined all functions of NWA25 into a four function process (in the style of regional-mom6), i.e.,
<a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides" title="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides"><code class="xref py py-func docutils literal notranslate"><span class="pre">setup_boundary_tides()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">coords()</span></code>, <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_tides" title="CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_tides"><code class="xref py py-func docutils literal notranslate"><span class="pre">segment.regrid_tides()</span></code></a>, and
<a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.encode_tidal_files_and_output" title="CrocoDash.rm6.regional_mom6.regional_mom6.segment.encode_tidal_files_and_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">segment.encode_tidal_files_and_output()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p>Code credit:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Author<span class="o">(</span>s<span class="o">)</span>:<span class="w"> </span>GFDL,<span class="w"> </span>James<span class="w"> </span>Simkins,<span class="w"> </span>Rob<span class="w"> </span>Cermak,<span class="w"> </span>and<span class="w"> </span>contributors
Year:<span class="w"> </span><span class="m">2022</span>
Title:<span class="w"> </span><span class="s2">&quot;NWA25: Northwest Atlantic 1/25th Degree MOM6 Simulation&quot;</span>
Version:<span class="w"> </span>N/A
Type:<span class="w"> </span>Python<span class="w"> </span>Functions,<span class="w"> </span>Source<span class="w"> </span>Code
Web<span class="w"> </span>Address:<span class="w"> </span>https://github.com/jsimkins2/nwa25
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_tides">
<span class="sig-name descname"><span class="pre">regrid_tides</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tpxo_v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpxo_u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tpxo_h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotational_method=RotationMethod.EXPAND_GRID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regridding_method='bilinear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_method=&lt;function</span> <span class="pre">fill_missing_data&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_tides" title="Link to this definition">#</a></dt>
<dd><p>Regrids and interpolates the tidal data for MOM6. Steps include:</p>
<ul class="simple">
<li><p>Read raw tidal data (all constituents)</p></li>
<li><p>Perform minor transformations/conversions</p></li>
<li><p>Regrid the tidal elevation, and tidal velocity</p></li>
<li><p>Encode the output</p></li>
</ul>
<dl class="simple">
<dt>General Description:</dt><dd><p>The tidal data functions sourced from the GFDL’s code above were changed in the following ways:</p>
<ul class="simple">
<li><p>Converted code for regional-mom6 segment class</p></li>
<li><p>Implemented horizontal subsetting</p></li>
<li><p>Combined all functions of NWA25 into a four function process (in the style of regional-mom6), i.e.,
<a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides" title="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides"><code class="xref py py-func docutils literal notranslate"><span class="pre">setup_boundary_tides()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">coords()</span></code>, <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_tides" title="CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_tides"><code class="xref py py-func docutils literal notranslate"><span class="pre">segment.regrid_tides()</span></code></a>, and
<a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.encode_tidal_files_and_output" title="CrocoDash.rm6.regional_mom6.regional_mom6.segment.encode_tidal_files_and_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">segment.encode_tidal_files_and_output()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>infile_td</strong> (<em>str</em>) – Raw tidal file/directory.</p></li>
<li><p><strong>tpxo_v</strong> (<em>xarray.Dataset</em>) – Specific adjusted for MOM6 tpxo datasets (Adjusted with <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides" title="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides"><code class="xref py py-func docutils literal notranslate"><span class="pre">setup_boundary_tides()</span></code></a>)</p></li>
<li><p><strong>tpxo_u</strong> (<em>xarray.Dataset</em>) – Specific adjusted for MOM6 tpxo datasets (Adjusted with <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides" title="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides"><code class="xref py py-func docutils literal notranslate"><span class="pre">setup_boundary_tides()</span></code></a>)</p></li>
<li><p><strong>tpxo_h</strong> (<em>xarray.Dataset</em>) – Specific adjusted for MOM6 tpxo datasets (Adjusted with <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides" title="CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides"><code class="xref py py-func docutils literal notranslate"><span class="pre">setup_boundary_tides()</span></code></a>)</p></li>
<li><p><strong>times</strong> (<em>pd.DateRange</em>) – The start date of our model period.</p></li>
<li><p><strong>rotational_method</strong> (<em>rot.RotationMethod</em>) – The method to use for rotation of the velocities.
The default method, <code class="docutils literal notranslate"><span class="pre">EXPAND_GRID</span></code>, works even with non-rotated grids.</p></li>
<li><p><strong>regridding_method</strong> (<em>str</em>) – regridding method to use throughout the function. Default is <code class="docutils literal notranslate"><span class="pre">'bilinear'</span></code></p></li>
<li><p><strong>fill_method</strong> (<em>Function</em>) – Fill method to use throughout the function. Default is <code class="docutils literal notranslate"><span class="pre">rgd.fill_missing_data</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Regridded tidal velocity and elevation files in ‘inputdir/forcing’</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>netCDF files</p>
</dd>
</dl>
<p>Code credit:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Author<span class="o">(</span>s<span class="o">)</span>:<span class="w"> </span>GFDL,<span class="w"> </span>James<span class="w"> </span>Simkins,<span class="w"> </span>Rob<span class="w"> </span>Cermak,<span class="w"> </span>and<span class="w"> </span>contributors
Year:<span class="w"> </span><span class="m">2022</span>
Title:<span class="w"> </span><span class="s2">&quot;NWA25: Northwest Atlantic 1/25th Degree MOM6 Simulation&quot;</span>
Version:<span class="w"> </span>N/A
Type:<span class="w"> </span>Python<span class="w"> </span>Functions,<span class="w"> </span>Source<span class="w"> </span>Code
Web<span class="w"> </span>Address:<span class="w"> </span>https://github.com/jsimkins2/nwa25
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_velocity_tracers">
<span class="sig-name descname"><span class="pre">regrid_velocity_tracers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rotational_method=RotationMethod.EXPAND_GRID</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regridding_method='bilinear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_method=&lt;function</span> <span class="pre">fill_missing_data&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_velocity_tracers" title="Link to this definition">#</a></dt>
<dd><p>Cut out and interpolate the velocities and tracers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rotational_method</strong> (<em>rot.RotationMethod</em>) – The method to use for rotation of the velocities. Currently, the default method, <code class="docutils literal notranslate"><span class="pre">EXPAND_GRID</span></code>, works even with non-rotated grids.</p></li>
<li><p><strong>regridding_method</strong> (<em>str</em>) – regridding method to use throughout the function. Default is <code class="docutils literal notranslate"><span class="pre">'bilinear'</span></code></p></li>
<li><p><strong>fill_method</strong> (<em>Function</em>) – Fill method to use throughout the function. Default is <code class="docutils literal notranslate"><span class="pre">rgd.fill_missing_data</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-CrocoDash.rm6.regional_mom6.regridding">
<span id="crocodash-rm6-regional-mom6-regridding-module"></span><h2>CrocoDash.rm6.regional_mom6.regridding module<a class="headerlink" href="#module-CrocoDash.rm6.regional_mom6.regridding" title="Link to this heading">#</a></h2>
<p>Custom-built helper methods to regrid the boundary conditions and ensure proper encoding for MOM6.</p>
<p>Steps:</p>
<ol class="arabic simple">
<li><p>Initial Regridding -&gt; Find the boundary of the <code class="docutils literal notranslate"><span class="pre">hgrid</span></code>, and regrid the forcing variables to that boundary. Call (<code class="docutils literal notranslate"><span class="pre">initial_regridding</span></code>) and then use the <code class="docutils literal notranslate"><span class="pre">xesmf.Regridder</span></code> with any datasets you need.</p></li>
<li><p>Ensure temperatures are in Celsius.</p></li>
<li><p>Fill in NaNs. This step is important for MOM6 (<code class="docutils literal notranslate"><span class="pre">fill_missing_data</span></code>) -&gt; This diverges between</p></li>
<li><p>For tides, we split the tides into an amplitude and a phase</p></li>
<li><p>In some cases, here is a great place to rotate the velocities to match a curved grid (tidal_velocity), velocity is also a good place to do this.</p></li>
<li><p>We then add the time coordinate</p></li>
<li><dl class="simple">
<dt>Add several depth-related coordinates to fields that are not related to the ocean’s surface (like, e.g., surface wind stress).</dt><dd><ul class="simple">
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">dz</span></code> variable in layer thickness</p></li>
<li><p>Some metadata issues later on</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Now we do up the metadata</p></li>
<li><p>Rename variables to var_segment_num</p></li>
<li><p>(For fields with vertical dimension) Rename the vertical coordinate of the variable to <code class="docutils literal notranslate"><span class="pre">nz_segment_num_var</span></code>.</p></li>
<li><p>(For fields with vertical dimension) Declare this new vertical coordinate as a increasing series of integers.</p></li>
<li><p>Re-add the “perpendicular” dimension.</p></li>
<li><p>….Add  layer thickness <code class="docutils literal notranslate"><span class="pre">dz</span></code> to the forcing fields with vertical dimension.</p></li>
<li><p>Add to encoding_dict a fill value(_FillValue) and zlib, dtype, for time, lat lon, … and each variable (no type needed though).</p></li>
</ol>
<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regridding.add_or_update_time_dim">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regridding.</span></span><span class="sig-name descname"><span class="pre">add_or_update_time_dim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regridding.add_or_update_time_dim" title="Link to this definition">#</a></dt>
<dd><p>Add the time dimension to the dataset, in tides case can be one time step.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xr.Dataset</em>) – The dataset to add the time dimension to</p></li>
<li><p><strong>times</strong> (<em>list</em><em>, </em><em>np.Array</em><em>, </em><em>xr.DataArray</em>) – The list of times</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dataset with the time dimension added</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(xr.Dataset)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regridding.add_secondary_dimension">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regridding.</span></span><span class="sig-name descname"><span class="pre">add_secondary_dimension</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_beginning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regridding.add_secondary_dimension" title="Link to this definition">#</a></dt>
<dd><p>Add the perpendiciular dimension to the dataset, even if it is
only one value since it is required.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xr.Dataset</em>) – The dataset to add the perpendicular dimension to</p></li>
<li><p><strong>var</strong> (<em>str</em>) – The variable to add the perpendicular dimension to</p></li>
<li><p><strong>coords</strong> (<em>xr.Dataset</em>) – The output xarray Dataset from the coords function. Contains information required to add the perpendicular dimension.</p></li>
<li><p><strong>segment_name</strong> (<em>str</em>) – The segment name</p></li>
<li><p><strong>to_beginning</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to add the perpendicular dimension to the
beginning or to the selected position, by default False</p></li>
</ul>
</dd>
</dl>
<p>Returns</p>
<blockquote>
<div><p>(xr.Dataset): The dataset with the vertical dimension added</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regridding.coords">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regridding.</span></span><span class="sig-name descname"><span class="pre">coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hgrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords_at_t_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_variable_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'angle_dx'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regridding.coords" title="Link to this definition">#</a></dt>
<dd><p>Allows us to call the coords for use in the <code class="docutils literal notranslate"><span class="pre">xesmf.Regridder</span></code> in the <code class="xref py py-func docutils literal notranslate"><span class="pre">regrid_tides()</span></code> function.
<code class="docutils literal notranslate"><span class="pre">self.coords</span></code> gives us the subset of the <code class="docutils literal notranslate"><span class="pre">hgrid</span></code> based on the orientation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hgrid</strong> (<em>xr.Dataset</em>) – The horizontal grid dataset.</p></li>
<li><p><strong>orientation</strong> (<em>str</em>) – The orientation of the boundary.</p></li>
<li><p><strong>segment_name</strong> (<em>str</em>) – The name of the segment.</p></li>
<li><p><strong>coords_at_t_points</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to return the boundary t-points instead of
the q/u/v of a general boundary for rotation. Default: <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The correct coordinate space for the orientation</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xr.Dataset</p>
</dd>
</dl>
<p>Code credit:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Author<span class="o">(</span>s<span class="o">)</span>:<span class="w"> </span>GFDL,<span class="w"> </span>James<span class="w"> </span>Simkins,<span class="w"> </span>Rob<span class="w"> </span>Cermak,<span class="w"> </span>and<span class="w"> </span>contributors
Year:<span class="w"> </span><span class="m">2022</span>
Title:<span class="w"> </span><span class="s2">&quot;NWA25: Northwest Atlantic 1/25th Degree MOM6 Simulation&quot;</span>
Version:<span class="w"> </span>N/A
Type:<span class="w"> </span>Python<span class="w"> </span>Functions,<span class="w"> </span>Source<span class="w"> </span>Code
Web<span class="w"> </span>Address:<span class="w"> </span>https://github.com/jsimkins2/nwa25
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regridding.create_regridder">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regridding.</span></span><span class="sig-name descname"><span class="pre">create_regridder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">forcing_variables</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_grid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'bilinear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locstream_out</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">periodic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Regridder</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regridding.create_regridder" title="Link to this definition">#</a></dt>
<dd><p>Basic regridder for any forcing variables. This is essentially a wrapper for
the xesmf regridder with some default parameter choices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>forcing_variables</strong> (<em>xr.Dataset</em>) – The dataset of the forcing variables.</p></li>
<li><p><strong>output_grid</strong> (<em>xr.Dataset</em>) – The dataset of the output grid. This is the boundary of the <code class="docutils literal notranslate"><span class="pre">hgrid</span></code></p></li>
<li><p><strong>outfile</strong> (<em>Path</em><em>, </em><em>optional</em>) – The path to the output file for weights; default: <cite>None</cite></p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – The regridding method; default: <code class="docutils literal notranslate"><span class="pre">&quot;bilinear&quot;</span></code></p></li>
<li><p><strong>locstream_out</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to output the locstream; default: <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p><strong>periodic</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the grid is periodic; default: <code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The regridding object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xe.Regridder</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regridding.fill_missing_data">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regridding.</span></span><span class="sig-name descname"><span class="pre">fill_missing_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xdim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'locations'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zdim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'z'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'b'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regridding.fill_missing_data" title="Link to this definition">#</a></dt>
<dd><p>Fill in missing values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xr.Dataset</em>) – The dataset to be filled in</p></li>
<li><p><strong>z_dim_name</strong> (<em>str</em>) – The name of the <code class="docutils literal notranslate"><span class="pre">z</span></code> dimension</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The filled dataset</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xr.Dataset</p>
</dd>
</dl>
<p>Code credit:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Author<span class="o">(</span>s<span class="o">)</span>:<span class="w"> </span>GFDL,<span class="w"> </span>James<span class="w"> </span>Simkins,<span class="w"> </span>Rob<span class="w"> </span>Cermak,<span class="w"> </span>and<span class="w"> </span>contributors
Year:<span class="w"> </span><span class="m">2022</span>
Title:<span class="w"> </span><span class="s2">&quot;NWA25: Northwest Atlantic 1/25th Degree MOM6 Simulation&quot;</span>
Version:<span class="w"> </span>N/A
Type:<span class="w"> </span>Python<span class="w"> </span>Functions,<span class="w"> </span>Source<span class="w"> </span>Code
Web<span class="w"> </span>Address:<span class="w"> </span>https://github.com/jsimkins2/nwa25
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regridding.generate_dz">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regridding.</span></span><span class="sig-name descname"><span class="pre">generate_dz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_dim_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regridding.generate_dz" title="Link to this definition">#</a></dt>
<dd><p>Generate the vertical coordinate spacing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xr.Dataset</em>) – The dataset from which we extract the vertical coordinate.</p></li>
<li><p><strong>z_dim_name</strong> (<em>str</em>) – The name of the vertical coordinate.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Returns</dt><dd><p>(xr.Dataset): The vertical spacing variable.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regridding.generate_encoding">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regridding.</span></span><span class="sig-name descname"><span class="pre">generate_encoding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9.969209968386869e+36</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regridding.generate_encoding" title="Link to this definition">#</a></dt>
<dd><p>Generate the encoding dictionary for the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xr.Dataset</em>) – The dataset to generate the encoding for</p></li>
<li><p><strong>encoding_dict</strong> (<em>dict</em>) – The starting encoding dict with some specifications needed
for time and other vars, this will be updated with encodings in this function</p></li>
<li><p><strong>default_fill_value</strong> (<em>float</em><em>, </em><em>optional</em>) – The default fill value; default: 1.0e20</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The encoding dictionary</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(dict)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regridding.generate_layer_thickness">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regridding.</span></span><span class="sig-name descname"><span class="pre">generate_layer_thickness</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_vert_coord_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regridding.generate_layer_thickness" title="Link to this definition">#</a></dt>
<dd><p>Generate Layer Thickness Variable, needed for vars with vertical dimensions
:param ds: The dataset to generate the layer thickness for
:type ds: xr.Dataset
:param var: The variable to generate the layer thickness for
:type var: str
:param segment_name: The segment name
:type segment_name: str
:param old_vert_coord_name: The old vertical coordinate name
:type old_vert_coord_name: str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The dataset with the layer thickness variable added</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>xr.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regridding.get_boundary_mask">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regridding.</span></span><span class="sig-name descname"><span class="pre">get_boundary_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bathy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">side</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_dim_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_dim_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ny'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regridding.get_boundary_mask" title="Link to this definition">#</a></dt>
<dd><p>Mask out the boundary conditions based on the bathymetry. We don’t want to have boundary conditions on land.
:param bathy: The bathymetry dataset
:type bathy: xr.Dataset
:param side: The side of the boundary, “north”, “south”, “east”, or “west”
:type side: str
:param minimum_depth: The minimum depth to consider land, by default 0
:type minimum_depth: float, optional</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The boundary mask</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regridding.get_hgrid_arakawa_c_points">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regridding.</span></span><span class="sig-name descname"><span class="pre">get_hgrid_arakawa_c_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hgrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'t'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regridding.get_hgrid_arakawa_c_points" title="Link to this definition">#</a></dt>
<dd><p>Get the Arakawa C points from the hgrid.</p>
<p>Credit: Method originally by Fred Castruccio.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>hgrid</strong> (<em>xr.Dataset</em>) – The hgrid dataset</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The specific points x, y, &amp; point indexes</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xr.Dataset</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regridding.mask_dataset">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regridding.</span></span><span class="sig-name descname"><span class="pre">mask_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bathymetry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_dim_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ny'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_dim_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1e+20</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regridding.mask_dataset" title="Link to this definition">#</a></dt>
<dd><p>This function masks the dataset to the provided bathymetry. If bathymetry is not provided, it fills all NaNs with 0.
:param ds: The dataset to mask
:type ds: xr.Dataset
:param bathymetry: The bathymetry dataset
:type bathymetry: xr.Dataset
:param orientation: The orientation of the boundary
:type orientation: str
:param fill_value: The value land points should be filled with
:type fill_value: float</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.regridding.vertical_coordinate_encoding">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.regridding.</span></span><span class="sig-name descname"><span class="pre">vertical_coordinate_encoding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">segment_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_vert_coord_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.regridding.vertical_coordinate_encoding" title="Link to this definition">#</a></dt>
<dd><p>Rename vertical coordinate to nz[additional-text] then change it to regular increments</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>xr.Dataset</em>) – The dataset to rename the vertical coordinate in</p></li>
<li><p><strong>var</strong> (<em>str</em>) – The variable to rename the vertical coordinate in</p></li>
<li><p><strong>segment_name</strong> (<em>str</em>) – The segment name</p></li>
<li><p><strong>old_vert_coord_name</strong> (<em>str</em>) – The old vertical coordinate name</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-CrocoDash.rm6.regional_mom6.rotation">
<span id="crocodash-rm6-regional-mom6-rotation-module"></span><h2>CrocoDash.rm6.regional_mom6.rotation module<a class="headerlink" href="#module-CrocoDash.rm6.regional_mom6.rotation" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.rotation.RotationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.rotation.</span></span><span class="sig-name descname"><span class="pre">RotationMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Prescribes the rotational method to be used in boundary conditions when the grid
does not have coordinates along lines of constant longitude-latitude. regional-mom6 main
class passes this <code class="docutils literal notranslate"><span class="pre">Enum</span></code> to <code class="xref py py-func docutils literal notranslate"><span class="pre">regrid_tides()</span></code> and to <code class="xref py py-func docutils literal notranslate"><span class="pre">regrid_velocity_tracers()</span></code>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.rotation.RotationMethod.EXPAND_GRID">
<span class="sig-name descname"><span class="pre">EXPAND_GRID</span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod.EXPAND_GRID" title="Link to this definition">#</a></dt>
<dd><p>This method is used with the basis that we can find the angles at the q-u-v points by pretending we have another row/column of the <code class="docutils literal notranslate"><span class="pre">hgrid</span></code> with the same distances as the t-point to u/v points in the actual grid then use the four points to calculate the angle. This method replicates exactly what MOM6 does.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.rotation.RotationMethod.GIVEN_ANGLE">
<span class="sig-name descname"><span class="pre">GIVEN_ANGLE</span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod.GIVEN_ANGLE" title="Link to this definition">#</a></dt>
<dd><p>Expects a pre-given angle called <code class="docutils literal notranslate"><span class="pre">angle_dx</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.rotation.RotationMethod.NO_ROTATION">
<span class="sig-name descname"><span class="pre">NO_ROTATION</span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod.NO_ROTATION" title="Link to this definition">#</a></dt>
<dd><p>Grid is along lines of constant latitude-longitude and therefore no rotation is required.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">EXPAND_GRID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#id0" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id1">
<span class="sig-name descname"><span class="pre">GIVEN_ANGLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#id1" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id2">
<span class="sig-name descname"><span class="pre">NO_ROTATION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#id2" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.rotation.create_expanded_hgrid">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.rotation.</span></span><span class="sig-name descname"><span class="pre">create_expanded_hgrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hgrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expansion_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.rotation.create_expanded_hgrid" title="Link to this definition">#</a></dt>
<dd><p>Adds an additional boundary to the hgrid to allow for the calculation of the <code class="docutils literal notranslate"><span class="pre">angle_dx</span></code> for the boundary points using <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.rotation.mom6_angle_calculation_method" title="CrocoDash.rm6.regional_mom6.rotation.mom6_angle_calculation_method"><code class="xref py py-func docutils literal notranslate"><span class="pre">mom6_angle_calculation_method()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.rotation.get_rotation_angle">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.rotation.</span></span><span class="sig-name descname"><span class="pre">get_rotation_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rotational_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod" title="CrocoDash.rm6.regional_mom6.rotation.RotationMethod"><span class="pre">RotationMethod</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">hgrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.rotation.get_rotation_angle" title="Link to this definition">#</a></dt>
<dd><p>Returns the rotation angle - with the assumption of degrees - based on the rotational method and provided hgrid, if orientation &amp; coords are provided, it will assume the boundary is requested.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rotational_method</strong> (<a class="reference internal" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod" title="CrocoDash.rm6.regional_mom6.rotation.RotationMethod"><em>RotationMethod</em></a>) – The rotational method to use</p></li>
<li><p><strong>hgrid</strong> (<em>xr.Dataset</em>) – The hgrid dataset</p></li>
<li><p><strong>orientation</strong> (<em>xr.Dataset</em>) – The orientation, which also lets us now that we are on a boundary</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>angle in degrees</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xr.DataArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.rotation.initialize_grid_rotation_angle">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.rotation.</span></span><span class="sig-name descname"><span class="pre">initialize_grid_rotation_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hgrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.rotation.initialize_grid_rotation_angle" title="Link to this definition">#</a></dt>
<dd><p>Calculate the <code class="docutils literal notranslate"><span class="pre">angle_dx</span></code> in degrees from the true <code class="docutils literal notranslate"><span class="pre">x</span></code> direction (parallel to latitude) counter-clockwise
and return as a dataarray. (Mimics MOM6 angle calculation function <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.rotation.mom6_angle_calculation_method" title="CrocoDash.rm6.regional_mom6.rotation.mom6_angle_calculation_method"><code class="xref py py-func docutils literal notranslate"><span class="pre">mom6_angle_calculation_method()</span></code></a>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>hgrid</strong> (<em>xr.Dataset</em>) – The hgrid dataset</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The t-point angles</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xr.DataArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.rotation.initialize_grid_rotation_angles_using_expanded_hgrid">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.rotation.</span></span><span class="sig-name descname"><span class="pre">initialize_grid_rotation_angles_using_expanded_hgrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hgrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dataset</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.rotation.initialize_grid_rotation_angles_using_expanded_hgrid" title="Link to this definition">#</a></dt>
<dd><p>Calculate the <code class="docutils literal notranslate"><span class="pre">angle_dx</span></code> (in degrees) from the true <code class="docutils literal notranslate"><span class="pre">x</span></code> direction (parallel to latitude)
counter-clockwise and return as a dataarray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>hgrid</strong> (<em>xr.Dataset</em>) – The hgrid dataset</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The t-point angles</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xr.DataArray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.rotation.modulo_around_point">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.rotation.</span></span><span class="sig-name descname"><span class="pre">modulo_around_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">L</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.rotation.modulo_around_point" title="Link to this definition">#</a></dt>
<dd><p>Returns the modulo-<span class="math notranslate nohighlight">\(L\)</span> value of <span class="math notranslate nohighlight">\(x\)</span> within the interval <span class="math notranslate nohighlight">\([x_0 - L/2, x_0 + L/2]\)</span>.
If <span class="math notranslate nohighlight">\(L ≤ 0\)</span>, then method returns <span class="math notranslate nohighlight">\(x\)</span>.</p>
<p>(Adapted from MOM6 code; <a class="github reference external" href="https://github.com/mom-ocean/MOM6/blob/776be843e904d85c7035ffa00233b962a03bfbb4/src/initialization/MOM_shared_initialization.F90#L592-L606">mom-ocean/MOM6</a>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>xr.DataArray</em>) – Value(s) to which to apply modulo arithmetic</p></li>
<li><p><strong>x0</strong> (<em>xr.DataArray</em>) – Center(s) of modulo range</p></li>
<li><p><strong>L</strong> (<em>float</em>) – Modulo range width</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">x</span></code> shifted by an integer multiple of <code class="docutils literal notranslate"><span class="pre">L</span></code> to be closer to <code class="docutils literal notranslate"><span class="pre">x0</span></code>, i.e., within the interval <code class="docutils literal notranslate"><span class="pre">[x0</span> <span class="pre">-</span> <span class="pre">L/2,</span> <span class="pre">x0</span> <span class="pre">+</span> <span class="pre">L/2]</span></code></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.rotation.mom6_angle_calculation_method">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.rotation.</span></span><span class="sig-name descname"><span class="pre">mom6_angle_calculation_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">len_lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_left</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bottom_left</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bottom_right</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataArray</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.rotation.mom6_angle_calculation_method" title="Link to this definition">#</a></dt>
<dd><p>Calculate the angle of the grid point’s local x-direction compared to East-West direction
using the MOM6 method adapted from: <a class="github reference external" href="https://github.com/mom-ocean/MOM6/blob/05d8cc395c1c3c04dd04885bf8dd6df50a86b862/src/initialization/MOM_shared_initialization.F90#L572-L587">mom-ocean/MOM6</a></p>
<p>Note: this is exactly the same as the angle of the grid point’s local y-direction compared to North-South direction.</p>
<p>This method can handle vectorized computations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>len_lon</strong> (<em>float</em>) – The extent of the longitude of the regional domain (in degrees).</p></li>
<li><p><strong>top_left</strong> (<em>xr.DataArray</em>) – The four points around the point to calculate the angle from the <code class="docutils literal notranslate"><span class="pre">hgrid</span></code>;
requires both an <code class="docutils literal notranslate"><span class="pre">x`</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> component (both in degrees).</p></li>
<li><p><strong>top_right</strong> (<em>xr.DataArray</em>) – The four points around the point to calculate the angle from the <code class="docutils literal notranslate"><span class="pre">hgrid</span></code>;
requires both an <code class="docutils literal notranslate"><span class="pre">x`</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> component (both in degrees).</p></li>
<li><p><strong>bottom_left</strong> (<em>xr.DataArray</em>) – The four points around the point to calculate the angle from the <code class="docutils literal notranslate"><span class="pre">hgrid</span></code>;
requires both an <code class="docutils literal notranslate"><span class="pre">x`</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> component (both in degrees).</p></li>
<li><p><strong>bottom_right</strong> (<em>xr.DataArray</em>) – The four points around the point to calculate the angle from the <code class="docutils literal notranslate"><span class="pre">hgrid</span></code>;
requires both an <code class="docutils literal notranslate"><span class="pre">x`</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> component (both in degrees).</p></li>
<li><p><strong>point</strong> (<em>xr.DataArray</em>) – The point to calculate the angle from the <code class="docutils literal notranslate"><span class="pre">hgrid</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The angle of the grid point’s local <code class="docutils literal notranslate"><span class="pre">x</span></code>-direction compared to East-West direction.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xr.DataArray</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-CrocoDash.rm6.regional_mom6.utils">
<span id="crocodash-rm6-regional-mom6-utils-module"></span><h2>CrocoDash.rm6.regional_mom6.utils module<a class="headerlink" href="#module-CrocoDash.rm6.regional_mom6.utils" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.utils.angle_between">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.utils.</span></span><span class="sig-name descname"><span class="pre">angle_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.utils.angle_between" title="Link to this definition">#</a></dt>
<dd><p>Return the angle <code class="docutils literal notranslate"><span class="pre">v2</span></code>-<code class="docutils literal notranslate"><span class="pre">v1</span></code>-<code class="docutils literal notranslate"><span class="pre">v3</span></code> (in radians), where
<code class="docutils literal notranslate"><span class="pre">v1</span></code>, <code class="docutils literal notranslate"><span class="pre">v2</span></code>, <code class="docutils literal notranslate"><span class="pre">v3</span></code> are 3-vectors. That is, the angle that
is formed between vectors <code class="docutils literal notranslate"><span class="pre">v2</span> <span class="pre">-</span> <span class="pre">v1</span></code> and vector <code class="docutils literal notranslate"><span class="pre">v3</span> <span class="pre">-</span> <span class="pre">v1</span></code>.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">regional_mom6.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">angle_between</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v3</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">angle_between</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
<span class="go">1.5707963267948966</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">rad2deg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rad2deg</span><span class="p">(</span><span class="n">angle_between</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">))</span>
<span class="go">90.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.utils.ap2ep">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.utils.</span></span><span class="sig-name descname"><span class="pre">ap2ep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.utils.ap2ep" title="Link to this definition">#</a></dt>
<dd><p>Convert complex tidal u and v to tidal ellipse.</p>
<p>Adapted from ap2ep.m for Matlab. Copyright notice:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Authorship:

The author retains the copyright of this program, while  you are welcome
to use and distribute it as long as you credit the author properly and respect
the program name itself. Particularly, you are expected to retain the original
author&#39;s name in this original version or any of its modified version that
you might make. You are also expected not to essentially change the name of
the programs except for adding possible extension for your own version you
might create, e.g. ap2ep_xx is acceptable.  Any suggestions are welcome and
enjoy my program(s)!

Author Info:

Zhigang Xu, Ph.D.
(pronounced as Tsi Gahng Hsu)
Research Scientist
Coastal Circulation
Bedford Institute of Oceanography
1 Challenge Dr.
P.O. Box 1006                    Phone  (902) 426-2307 (o)
Dartmouth, Nova Scotia           Fax    (902) 426-7827
CANADA B2Y 4A2                   email xuz@dfo-mpo.gc.ca

Release Date: Nov. 2000, Revised on May. 2002 to adopt Foreman&#39;s northern semi
major axis convention.
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uc</strong> – complex tidal u velocity</p></li>
<li><p><strong>vc</strong> – complex tidal v velocity</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(semi-major axis, eccentricity, inclination [radians], phase [radians])</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.utils.ep2ap">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.utils.</span></span><span class="sig-name descname"><span class="pre">ep2ap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SEMA</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ECC</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">INC</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">PHA</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.utils.ep2ap" title="Link to this definition">#</a></dt>
<dd><p>Convert tidal ellipse to real u and v amplitude and phase.</p>
<p>Adapted from ep2ap.m for Matlab. Copyright notice:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Authorship:

The author of this program retains the copyright of this program, while
you are welcome to use and distribute this program as long as you credit
the author properly and respect the program name itself. Particularly,
you are expected to retain the original author&#39;s name in this original
version of the program or any of its modified version that you might make.
You are also expected not to essentially change the name of the programs
except for adding possible extension for your own version you might create,
e.g. app2ep_xx is acceptable.  Any suggestions are welcome and enjoy my
program(s)!

Author Info:

Zhigang Xu, Ph.D.
(pronounced as Tsi Gahng Hsu)
Research Scientist
Coastal Circulation
Bedford Institute of Oceanography
1 Challenge Dr.
P.O. Box 1006                    Phone  (902) 426-2307 (o)
Dartmouth, Nova Scotia           Fax    (902) 426-7827
CANADA B2Y 4A2                   email xuz@dfo-mpo.gc.ca

Release Date: Nov. 2000
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>SEMA</strong> – semi-major axis</p></li>
<li><p><strong>ECC</strong> – eccentricity</p></li>
<li><p><strong>INC</strong> – inclination [radians]</p></li>
<li><p><strong>PHA</strong> – phase [radians]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(u amplitude, u phase [radians], v amplitude, v phase [radians])</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.utils.find_files_by_pattern">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.utils.</span></span><span class="sig-name descname"><span class="pre">find_files_by_pattern</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patterns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.utils.find_files_by_pattern" title="Link to this definition">#</a></dt>
<dd><p>Function searchs paths for patterns and returns the list of the file paths with that pattern</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.utils.get_edge">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.utils.</span></span><span class="sig-name descname"><span class="pre">get_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.utils.get_edge" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.utils.is_rectilinear_hgrid">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.utils.</span></span><span class="sig-name descname"><span class="pre">is_rectilinear_hgrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hgrid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rtol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.001</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.utils.is_rectilinear_hgrid" title="Link to this definition">#</a></dt>
<dd><p>Check if the <code class="docutils literal notranslate"><span class="pre">hgrid</span></code> is a rectilinear grid by comparing the first and last rows and columns of the tlon and tlat arrays.</p>
<p>From <code class="docutils literal notranslate"><span class="pre">mom6_bathy.grid.is_rectangular</span></code> by Alper (Altuntas).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hgrid</strong> (<em>xarray.Dataset</em>) – The horizontal grid dataset.</p></li>
<li><p><strong>rtol</strong> (<em>float</em>) – Relative tolerance. Default is 1e-3.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.utils.latlon_to_cartesian">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.utils.</span></span><span class="sig-name descname"><span class="pre">latlon_to_cartesian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.utils.latlon_to_cartesian" title="Link to this definition">#</a></dt>
<dd><p>Convert latitude and longitude (in degrees) to Cartesian coordinates on
a sphere of radius <code class="docutils literal notranslate"><span class="pre">R</span></code>. By default <code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">=</span> <span class="pre">1</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat</strong> (<em>float</em>) – Latitude (in degrees).</p></li>
<li><p><strong>lon</strong> (<em>float</em>) – Longitude (in degrees).</p></li>
<li><p><strong>R</strong> (<em>float</em>) – The radius of the sphere; default: 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple with the Cartesian coordinates <code class="docutils literal notranslate"><span class="pre">x,</span> <span class="pre">y,</span> <span class="pre">z</span></code></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Find the Cartesian coordinates that correspond to point with
<code class="docutils literal notranslate"><span class="pre">(lat,</span> <span class="pre">lon)</span> <span class="pre">=</span> <span class="pre">(0,</span> <span class="pre">0)</span></code> on a sphere with unit radius.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">regional_mom6.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">latlon_to_cartesian</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">latlon_to_cartesian</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">(1.0, 0.0, 0.0)</span>
</pre></div>
</div>
<p>Now let’s do the same on a sphere with Earth’s radius</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">regional_mom6.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">latlon_to_cartesian</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">R</span> <span class="o">=</span> <span class="mf">6371e3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">latlon_to_cartesian</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span>
<span class="go">(6371000.0, 0.0, 0.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.utils.quadrilateral_area">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.utils.</span></span><span class="sig-name descname"><span class="pre">quadrilateral_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v4</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.utils.quadrilateral_area" title="Link to this definition">#</a></dt>
<dd><p>Return the area of a spherical quadrilateral on the unit sphere that
has vertices on the 3-vectors <code class="docutils literal notranslate"><span class="pre">v1</span></code>, <code class="docutils literal notranslate"><span class="pre">v2</span></code>, <code class="docutils literal notranslate"><span class="pre">v3</span></code>, <code class="docutils literal notranslate"><span class="pre">v4</span></code>
(counter-clockwise orientation is implied). The area is computed via
the excess of the sum of the spherical angles of the quadrilateral from 2π.</p>
<p class="rubric">Example</p>
<p>Calculate the area that corresponds to half the Northern hemisphere
of a sphere of radius <em>R</em>. This should be 1/4 of the sphere’s total area,
that is π <em>R</em><sup>2</sup>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">regional_mom6.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">quadrilateral_area</span><span class="p">,</span> <span class="n">latlon_to_cartesian</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">R</span> <span class="o">=</span> <span class="mf">434.3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v1</span> <span class="o">=</span> <span class="n">latlon_to_cartesian</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v2</span> <span class="o">=</span> <span class="n">latlon_to_cartesian</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v3</span> <span class="o">=</span> <span class="n">latlon_to_cartesian</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v4</span> <span class="o">=</span> <span class="n">latlon_to_cartesian</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">quadrilateral_area</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">,</span> <span class="n">v4</span><span class="p">)</span>
<span class="go">592556.1793298927</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="kn">import</span> <span class="n">pi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">quadrilateral_area</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">,</span> <span class="n">v4</span><span class="p">)</span> <span class="o">==</span> <span class="n">pi</span> <span class="o">*</span> <span class="n">R</span><span class="o">**</span><span class="mi">2</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.utils.quadrilateral_areas">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.utils.</span></span><span class="sig-name descname"><span class="pre">quadrilateral_areas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">R</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.utils.quadrilateral_areas" title="Link to this definition">#</a></dt>
<dd><p>Return the area of spherical quadrilaterals on a sphere of radius <code class="docutils literal notranslate"><span class="pre">R</span></code>.
By default, <code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">=</span> <span class="pre">1</span></code>. The quadrilaterals are formed by constant latitude and
longitude lines on the <code class="docutils literal notranslate"><span class="pre">lat</span></code>-<code class="docutils literal notranslate"><span class="pre">lon</span></code> grid provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat</strong> (<em>numpy.array</em>) – Array of latitude points (in degrees).</p></li>
<li><p><strong>lon</strong> (<em>numpy.array</em>) – Array of longitude points (in degrees).</p></li>
<li><p><strong>R</strong> (<em>float</em>) – The radius of the sphere; default: 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array with the areas of the quadrilaterals defined by the <code class="docutils literal notranslate"><span class="pre">lat</span></code>-<code class="docutils literal notranslate"><span class="pre">lon</span></code> grid
provided. If the provided <code class="docutils literal notranslate"><span class="pre">lat</span></code>, <code class="docutils literal notranslate"><span class="pre">lon</span></code> arrays are of dimension <em>m</em> <span class="math notranslate nohighlight">\(\times\)</span> <em>n</em>
then returned areas array is of dimension (<em>m-1</em>) <span class="math notranslate nohighlight">\(\times\)</span> (<em>n-1</em>).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.array</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Let’s construct a lat-lon grid on the sphere with 60 degree spacing.
Then we compute the areas of each grid cell and confirm that the
sum of the areas gives us the total area of the sphere.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">regional_mom6.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">quadrilateral_areas</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">λ</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">φ</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lon</span><span class="p">,</span> <span class="n">lat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">λ</span><span class="p">,</span> <span class="n">φ</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lon</span>
<span class="go">array([[  0.,  60., 120., 180., 240., 300., 360.],</span>
<span class="go">       [  0.,  60., 120., 180., 240., 300., 360.],</span>
<span class="go">       [  0.,  60., 120., 180., 240., 300., 360.],</span>
<span class="go">       [  0.,  60., 120., 180., 240., 300., 360.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lat</span>
<span class="go">array([[-90., -90., -90., -90., -90., -90., -90.],</span>
<span class="go">       [-30., -30., -30., -30., -30., -30., -30.],</span>
<span class="go">       [ 30.,  30.,  30.,  30.,  30.,  30.,  30.],</span>
<span class="go">       [ 90.,  90.,  90.,  90.,  90.,  90.,  90.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">R</span> <span class="o">=</span> <span class="mf">6371e3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">areas</span> <span class="o">=</span> <span class="n">quadrilateral_areas</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">R</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">areas</span>
<span class="go">array([[1.96911611e+13, 1.96911611e+13, 1.96911611e+13, 1.96911611e+13,</span>
<span class="go">        1.96911611e+13, 1.96911611e+13],</span>
<span class="go">       [4.56284230e+13, 4.56284230e+13, 4.56284230e+13, 4.56284230e+13,</span>
<span class="go">        4.56284230e+13, 4.56284230e+13],</span>
<span class="go">       [1.96911611e+13, 1.96911611e+13, 1.96911611e+13, 1.96911611e+13,</span>
<span class="go">        1.96911611e+13, 1.96911611e+13]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">isclose</span><span class="p">(</span><span class="n">areas</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">R</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">atol</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">finfo</span><span class="p">(</span><span class="n">areas</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span><span class="o">.</span><span class="n">eps</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.utils.rotate">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.utils.</span></span><span class="sig-name descname"><span class="pre">rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radian_angle</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.utils.rotate" title="Link to this definition">#</a></dt>
<dd><p>Rotate the velocities counter-clockwise by an angle <code class="docutils literal notranslate"><span class="pre">radian_angle</span></code> (in radians).  (Same as <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.utils.rotate_complex" title="CrocoDash.rm6.regional_mom6.utils.rotate_complex"><code class="xref py py-func docutils literal notranslate"><span class="pre">rotate_complex()</span></code></a>.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u</strong> (<em>xarray.DataArray</em>) – The <span class="math notranslate nohighlight">\(u\)</span>-component of the velocity.</p></li>
<li><p><strong>v</strong> (<em>xarray.DataArray</em>) – The <span class="math notranslate nohighlight">\(v\)</span>-component of the velocity.</p></li>
<li><p><strong>radian_angle</strong> (<em>xarray.DataArray</em>) – The angle of rotation (in radians).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The rotated <span class="math notranslate nohighlight">\(u\)</span> and <span class="math notranslate nohighlight">\(v\)</span> components of the velocity.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[xarray.DataArray, xarray.DataArray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.utils.rotate_complex">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.utils.</span></span><span class="sig-name descname"><span class="pre">rotate_complex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radian_angle</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.utils.rotate_complex" title="Link to this definition">#</a></dt>
<dd><p>Rotate velocities counter-clockwise by angle <code class="docutils literal notranslate"><span class="pre">radian_angle</span></code> (in radians) using complex number math (Same as <a class="reference internal" href="#CrocoDash.rm6.regional_mom6.utils.rotate" title="CrocoDash.rm6.regional_mom6.utils.rotate"><code class="xref py py-func docutils literal notranslate"><span class="pre">rotate()</span></code></a>.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>u</strong> (<em>xarray.DataArray</em>) – The <span class="math notranslate nohighlight">\(u\)</span>-component of the velocity.</p></li>
<li><p><strong>v</strong> (<em>xarray.DataArray</em>) – The <span class="math notranslate nohighlight">\(v\)</span>-component of the velocity.</p></li>
<li><p><strong>radian_angle</strong> (<em>xarray.DataArray</em>) – The angle of rotation (in radians).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The rotated <span class="math notranslate nohighlight">\(u\)</span> and <span class="math notranslate nohighlight">\(v\)</span> components of the velocity.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[xarray.DataArray, xarray.DataArray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.utils.setup_logger">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.utils.</span></span><span class="sig-name descname"><span class="pre">setup_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_handler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Logger</span></span></span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.utils.setup_logger" title="Link to this definition">#</a></dt>
<dd><p>Setup general configuration for a logger.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="CrocoDash.rm6.regional_mom6.utils.vecdot">
<span class="sig-prename descclassname"><span class="pre">CrocoDash.rm6.regional_mom6.utils.</span></span><span class="sig-name descname"><span class="pre">vecdot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#CrocoDash.rm6.regional_mom6.utils.vecdot" title="Link to this definition">#</a></dt>
<dd><p>Return the dot product of vectors <code class="docutils literal notranslate"><span class="pre">v1</span></code> and <code class="docutils literal notranslate"><span class="pre">v2</span></code>.
<code class="docutils literal notranslate"><span class="pre">v1</span></code> and <code class="docutils literal notranslate"><span class="pre">v2</span></code> can be either numpy vectors or numpy.ndarrays
in which case the last dimension is considered the dimension
over which the dot product is taken.</p>
</dd></dl>

</section>
<section id="module-CrocoDash.rm6.regional_mom6">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-CrocoDash.rm6.regional_mom6" title="Link to this heading">#</a></h2>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="CrocoDash.rm6.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">CrocoDash.rm6 package</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6.MOM_parameter_tools">CrocoDash.rm6.regional_mom6.MOM_parameter_tools module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.MOM_parameter_tools.change_MOM_parameter"><code class="docutils literal notranslate"><span class="pre">change_MOM_parameter()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.MOM_parameter_tools.read_MOM_file_as_dict"><code class="docutils literal notranslate"><span class="pre">read_MOM_file_as_dict()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.MOM_parameter_tools.write_MOM_file"><code class="docutils literal notranslate"><span class="pre">write_MOM_file()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6.config">CrocoDash.rm6.regional_mom6.config module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.config.Config"><code class="docutils literal notranslate"><span class="pre">Config</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.config.Config.load_from_json"><code class="docutils literal notranslate"><span class="pre">Config.load_from_json()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.config.Config.save_to_json"><code class="docutils literal notranslate"><span class="pre">Config.save_to_json()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.config.convert_string_to_value"><code class="docutils literal notranslate"><span class="pre">convert_string_to_value()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.config.convert_value_to_string"><code class="docutils literal notranslate"><span class="pre">convert_value_to_string()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6.regional_mom6">CrocoDash.rm6.regional_mom6.regional_mom6 module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment"><code class="docutils literal notranslate"><span class="pre">experiment</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.bathymetry"><code class="docutils literal notranslate"><span class="pre">experiment.bathymetry</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.bathymetry_path"><code class="docutils literal notranslate"><span class="pre">experiment.bathymetry_path</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.configure_cpu_layout"><code class="docutils literal notranslate"><span class="pre">experiment.configure_cpu_layout()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.create_empty"><code class="docutils literal notranslate"><span class="pre">experiment.create_empty()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.era5_paths"><code class="docutils literal notranslate"><span class="pre">experiment.era5_paths</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.find_MOM6_rectangular_orientation"><code class="docutils literal notranslate"><span class="pre">experiment.find_MOM6_rectangular_orientation()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.get_glorys"><code class="docutils literal notranslate"><span class="pre">experiment.get_glorys()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.init_tracers"><code class="docutils literal notranslate"><span class="pre">experiment.init_tracers</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.init_velocities"><code class="docutils literal notranslate"><span class="pre">experiment.init_velocities</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.initial_condition_paths"><code class="docutils literal notranslate"><span class="pre">experiment.initial_condition_paths</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.ocean_state_boundary_paths"><code class="docutils literal notranslate"><span class="pre">experiment.ocean_state_boundary_paths</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.run_FRE_tools"><code class="docutils literal notranslate"><span class="pre">experiment.run_FRE_tools()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_bathymetry"><code class="docutils literal notranslate"><span class="pre">experiment.setup_bathymetry()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_boundary_tides"><code class="docutils literal notranslate"><span class="pre">experiment.setup_boundary_tides()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_era5"><code class="docutils literal notranslate"><span class="pre">experiment.setup_era5()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_initial_condition"><code class="docutils literal notranslate"><span class="pre">experiment.setup_initial_condition()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_ocean_state_boundaries"><code class="docutils literal notranslate"><span class="pre">experiment.setup_ocean_state_boundaries()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_run_directory"><code class="docutils literal notranslate"><span class="pre">experiment.setup_run_directory()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.setup_single_boundary"><code class="docutils literal notranslate"><span class="pre">experiment.setup_single_boundary()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.tides_boundary_paths"><code class="docutils literal notranslate"><span class="pre">experiment.tides_boundary_paths</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.experiment.tidy_bathymetry"><code class="docutils literal notranslate"><span class="pre">experiment.tidy_bathymetry()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.generate_rectangular_hgrid"><code class="docutils literal notranslate"><span class="pre">generate_rectangular_hgrid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.get_glorys_data"><code class="docutils literal notranslate"><span class="pre">get_glorys_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.hyperbolictan_thickness_profile"><code class="docutils literal notranslate"><span class="pre">hyperbolictan_thickness_profile()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.longitude_slicer"><code class="docutils literal notranslate"><span class="pre">longitude_slicer()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment"><code class="docutils literal notranslate"><span class="pre">segment</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.encode_tidal_files_and_output"><code class="docutils literal notranslate"><span class="pre">segment.encode_tidal_files_and_output()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_tides"><code class="docutils literal notranslate"><span class="pre">segment.regrid_tides()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regional_mom6.segment.regrid_velocity_tracers"><code class="docutils literal notranslate"><span class="pre">segment.regrid_velocity_tracers()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6.regridding">CrocoDash.rm6.regional_mom6.regridding module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.add_or_update_time_dim"><code class="docutils literal notranslate"><span class="pre">add_or_update_time_dim()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.add_secondary_dimension"><code class="docutils literal notranslate"><span class="pre">add_secondary_dimension()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.coords"><code class="docutils literal notranslate"><span class="pre">coords()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.create_regridder"><code class="docutils literal notranslate"><span class="pre">create_regridder()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.fill_missing_data"><code class="docutils literal notranslate"><span class="pre">fill_missing_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.generate_dz"><code class="docutils literal notranslate"><span class="pre">generate_dz()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.generate_encoding"><code class="docutils literal notranslate"><span class="pre">generate_encoding()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.generate_layer_thickness"><code class="docutils literal notranslate"><span class="pre">generate_layer_thickness()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.get_boundary_mask"><code class="docutils literal notranslate"><span class="pre">get_boundary_mask()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.get_hgrid_arakawa_c_points"><code class="docutils literal notranslate"><span class="pre">get_hgrid_arakawa_c_points()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.mask_dataset"><code class="docutils literal notranslate"><span class="pre">mask_dataset()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.regridding.vertical_coordinate_encoding"><code class="docutils literal notranslate"><span class="pre">vertical_coordinate_encoding()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6.rotation">CrocoDash.rm6.regional_mom6.rotation module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod"><code class="docutils literal notranslate"><span class="pre">RotationMethod</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod.EXPAND_GRID"><code class="docutils literal notranslate"><span class="pre">RotationMethod.EXPAND_GRID</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod.GIVEN_ANGLE"><code class="docutils literal notranslate"><span class="pre">RotationMethod.GIVEN_ANGLE</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.RotationMethod.NO_ROTATION"><code class="docutils literal notranslate"><span class="pre">RotationMethod.NO_ROTATION</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id0"><code class="docutils literal notranslate"><span class="pre">RotationMethod.EXPAND_GRID</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><code class="docutils literal notranslate"><span class="pre">RotationMethod.GIVEN_ANGLE</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><code class="docutils literal notranslate"><span class="pre">RotationMethod.NO_ROTATION</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.create_expanded_hgrid"><code class="docutils literal notranslate"><span class="pre">create_expanded_hgrid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.get_rotation_angle"><code class="docutils literal notranslate"><span class="pre">get_rotation_angle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.initialize_grid_rotation_angle"><code class="docutils literal notranslate"><span class="pre">initialize_grid_rotation_angle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.initialize_grid_rotation_angles_using_expanded_hgrid"><code class="docutils literal notranslate"><span class="pre">initialize_grid_rotation_angles_using_expanded_hgrid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.modulo_around_point"><code class="docutils literal notranslate"><span class="pre">modulo_around_point()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.rotation.mom6_angle_calculation_method"><code class="docutils literal notranslate"><span class="pre">mom6_angle_calculation_method()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6.utils">CrocoDash.rm6.regional_mom6.utils module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.angle_between"><code class="docutils literal notranslate"><span class="pre">angle_between()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.ap2ep"><code class="docutils literal notranslate"><span class="pre">ap2ep()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.ep2ap"><code class="docutils literal notranslate"><span class="pre">ep2ap()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.find_files_by_pattern"><code class="docutils literal notranslate"><span class="pre">find_files_by_pattern()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.get_edge"><code class="docutils literal notranslate"><span class="pre">get_edge()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.is_rectilinear_hgrid"><code class="docutils literal notranslate"><span class="pre">is_rectilinear_hgrid()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.latlon_to_cartesian"><code class="docutils literal notranslate"><span class="pre">latlon_to_cartesian()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.quadrilateral_area"><code class="docutils literal notranslate"><span class="pre">quadrilateral_area()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.quadrilateral_areas"><code class="docutils literal notranslate"><span class="pre">quadrilateral_areas()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.rotate"><code class="docutils literal notranslate"><span class="pre">rotate()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.rotate_complex"><code class="docutils literal notranslate"><span class="pre">rotate_complex()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.setup_logger"><code class="docutils literal notranslate"><span class="pre">setup_logger()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#CrocoDash.rm6.regional_mom6.utils.vecdot"><code class="docutils literal notranslate"><span class="pre">vecdot()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-CrocoDash.rm6.regional_mom6">Module contents</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By CROCODILE
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, CROCODILE.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>